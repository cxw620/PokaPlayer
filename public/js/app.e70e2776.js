(function(t){function e(e){for(var i,s,n=e[0],l=e[1],c=e[2],d=0,u=[];d<n.length;d++)s=n[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&u.push(r[s][0]),r[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);p&&p(e);while(u.length)u.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,s=1;s<a.length;s++){var n=a[s];0!==r[n]&&(i=!1)}i&&(o.splice(e--,1),t=l(l.s=a[0]))}return t}var i={},s={app:0},r={app:0},o=[];function n(t){return l.p+"js/"+({setting:"setting","setting-admin":"setting-admin"}[t]||t)+"."+{"chunk-b8a804c8":"89cb72da","chunk-c84dfbd6":"03ed44cc",setting:"48019746","setting-admin":"75130ae4"}[t]+".js"}function l(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={"chunk-b8a804c8":1,"chunk-c84dfbd6":1,setting:1,"setting-admin":1};s[t]?e.push(s[t]):0!==s[t]&&a[t]&&e.push(s[t]=new Promise((function(e,a){for(var i="css/"+({setting:"setting","setting-admin":"setting-admin"}[t]||t)+"."+{"chunk-b8a804c8":"c67975b2","chunk-c84dfbd6":"1fac8e93",setting:"aae77af4","setting-admin":"a92c8907"}[t]+".css",r=l.p+i,o=document.getElementsByTagName("link"),n=0;n<o.length;n++){var c=o[n],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===i||d===r))return e()}var u=document.getElementsByTagName("style");for(n=0;n<u.length;n++){c=u[n],d=c.getAttribute("data-href");if(d===i||d===r)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var i=e&&e.target&&e.target.src||r,o=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete s[t],p.parentNode.removeChild(p),a(o)},p.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){s[t]=0})));var i=r[t];if(0!==i)if(i)e.push(i[2]);else{var o=new Promise((function(e,a){i=r[t]=[e,a]}));e.push(i[2]=o);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=n(t);var u=new Error;c=function(e){d.onerror=d.onload=null,clearTimeout(p);var a=r[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",u.name="ChunkLoadError",u.type=i,u.request=s,a[1](u)}r[t]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},l.m=t,l.c=i,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(a,i,function(e){return t[e]}.bind(null,i));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var p=d;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0212":function(t,e,a){"use strict";a.r(e),e["default"]={title:"User management",role:{user:"user",admin:"admin"},dialog:{create:"Create User",createBtn:"Create",userCreated:"User created.",userCreateFailed:"User create failed.",userCreateUsernameRepeat:"Username is already taken.",edit:"Edit User",changePassword:"Change Password",changePasswordSuccess:"Password changed.",changePasswordFailed:"An error occurred when changing the password.",enterNewPassword:"Please enter the new password",deleteUser:"Delete this user",deleteUserFailed:"An error occurred when deleting the user"},field:{name:"Name",username:"Username",role:"Role",password:"Password",createTime:"Created time",lastLoginTime:"Last login"}}},1169:function(t,e,a){"use strict";a.r(e),e["default"]={title:"使用者管理",role:{user:"普通使用者",admin:"管理員"},dialog:{create:"建立使用者",createBtn:"建立",userCreated:"使用者建立成功",userCreateFailed:"建立使用者時發生錯誤",userCreateUsernameRepeat:"使用者名稱已被使用",edit:"編輯使用者",changePassword:"更改密碼",changePasswordSuccess:"密碼已變更",changePasswordFailed:"更改密碼時發生了錯誤",enterNewPassword:"請輸入新密碼",deleteUser:"刪除使用者",deleteUserFailed:"刪除使用者時發生了錯誤"},field:{name:"名稱",username:"使用者名稱",role:"權限",password:"密碼",createTime:"建立時間",lastLoginTime:"上次登入"}}},1705:function(t,e,a){"use strict";a.r(e),e["default"]={title:"隐私",description:"资料纪录设定",notify:{title:"关于 PokaPlayer 记录",body:"资料仅会于您的服务器进行运算，不会被上传至网络进行分析。 该功能可提供您更优质的使用体验（如：年度回顾、最近播放）。 若您有疑虑可于下方关闭此功能，并将已记录的资料清除。"},dataRecord:{_:"资料纪录",enabled:"启用",disabled:"已停用",clear:"清除目前已纪录资料",logged:"目前已记录 {count} 笔资料",loading:"正在统计资料...",confirm:"您确定要清除资料吗？",cleared:"资料已清除"}}},"1a0e":function(t,e,a){"use strict";a("5470")},"1cfd":function(t,e,a){"use strict";a("9ebe")},"1ece":function(t,e,a){},"1edc":function(t,e,a){},"28fa":function(t,e,a){"use strict";a.r(e),e["default"]={title:"Pravicy",description:"Data logging setting",notify:{title:"About data logging",body:"The data will only be calculated on your server and will not be uploaded to the Internet. The feature can provide you with a better experience (like: annual review, recent play).  You can turn off this feature below and clear the recorded data if you want."},dataRecord:{_:"Data logging",enabled:"Enabled",disabled:"Disabled",clear:"Clear the recorded data",logged:"{count} records have been recorded.",loading:"Loading...",confirm:"Are you sure you want to clear the data?",cleared:"Data cleared."}}},"290b":function(t,e,a){"use strict";a.r(e),e["default"]={title:"软件更新",checking4updates:"正在检查更新...",latestVersion:"您的 PokaPlayer 已是最新版本",update2:"更新至 {version}",canUpdate2:"可更新至 {version}",go2UpdatePage:"前往更新页面",srvRestart:"服务器重新启动",reconnect:"重新连接",initializing:"正在初始化...",updating:"正在更新...",git_fetch:"初始化完成",git_reset:"更新档下载完成",package_updated:"套件更新完成",dialog_note:"注意：若您未开启 Docker 自动重启功能，您必须手动开启 PokaPlayer",dialog_note_dev:"開發模式更新僅顯示用於測試介面的模擬結果",dialog_view_previous:"查看先前的更新日志",dialog_title:"{version} 更新日志"}},"2c12":function(t,e,a){"use strict";a.r(e),e["default"]={title:"English (US)",loading:"Loading...",header_welcome:"Welcome",checkUpdate_poka:"There is a new version available: {version}",checkUpdate_button:"Update",pingServer_title:"Notify",pingServer_content:"Server restarted!",pingServer_reconnect:"Reconnect",copy:{success:"Copied to clipboard",failed:"Failed to copy to clipboard"},home:"Home",nowplaying:"Player",library:"Library",lrc:"Lyrics",search:"Search",album:"Albums",folder:"Folders",artist:"Artists",song:"Songs",composer:"Composers",playlist:"Playlists",debug:"Debug",ok:"OK",cancel:"Cancel",reset:"Reset",done:"Done",back:"Back",login:{title:"Login",server:"Server",username:"Username",password:"Password"},nothingFound:"Nothing found",requestError:"Request failed, please try again",home_recentAlbums:"Recently Added Albums",home_pins:"Pins",home_netease:"Netease Cloud Music",home_hqPlaylist_netease:"High Quality Playlist",home_topPlaylist_netease:"Top Playlist",home_dailyRecommend_netease:"Daily Recommend",app_waitForPlay:"Waiting for play",app_waitForPlay_description:"Add some songs or click the random play button below",now_cleanSongs:"Clean all songs?",now_cleanSongs_description:"This will clean all songs in the list.",playlist_random:"Random",playlist_page:{del:"Delete",del_title:"Delete Playlist",delconfirm:'Are you sure to delete "{title}"?',add_title:"Add Playlist",edit_title:"Edit Playlist",title_input:"Playlist Title",cover_input:"Playlist Cover",edit_empty:"Field cannot be empty",playlist_empty:'You have not created any playlist yet, click the "+" button to add one'},lrc_search:"Search",lrc_noKeyword:"No keyword",lrc_enter2search:"Press enter to search",lrc_notLoad:"Lyrics not found",lrc_notLoad_description:"Lyrics not found, please try other keywords",lrc_noLyrics:"No lyrics",lrc_saved:"Lyrics saved",songAction_add2playlist:"Add to playlist",album_total:"{songs} songs",albumsOfSameArtist:"Albums of same artist",moduleShowName_Netease:"Netease Cloud Music",moduleShowName_DSM:"DSM",pin:"Pin",pin_failed:"Pin failed",unpin_failed:"Unpin failed",settings_dark:"Dark Mode",settings_lang:"Language",settings_systemAndUpdate:"System and Update",settings_about:"About",settings_about_contributions:"Contributions",settings_about_errorEeport:"Report issues",settings_account:"Account",settings_logout:"Logout",settings_system:"System",settings_restart:"Restart",settings_restarting:"Restarting...",settings_restart_completed:"Restart completed",settings_restartDialog_title:"Restart",settingIndex:{normalItems:"General",adminItems:"Server"},adminLog:{title:"Log"},source:{DSM:"DSM",poka:"PokaPlayer",Netease2:"Netease",QQMusic:"QQ Music"},lyricEditor:{title:"Lyrics Editor",instructionsTitle:"Instructions",instructionsContent:"Left side is lyrics preview, right side is lyrics editor<br />Edit completed, please click the check button below to save lyrics, if you want to cancel edit, click the back button",instructionsContentPhone:"Top side is lyrics preview, bottom side is lyrics editor<br />Edit completed, please click the check button below to save lyrics, if you want to cancel edit, click the back button",timeShifting:"Time Shifting",timeShiftingReset:"Reset",textEditor:"Text Editor"},review:a("5d32").default,install:a("755b").default,settings:a("abf2").default}},"2d1d":function(t,e,a){"use strict";a.r(e),e["default"]={_:"Interface",customize:{_:"Customizations",bg:{_:"Custom background",description:"Change background image",custom_link:"Custom link"},bg_cover:{_:"Background cover",description:"Change background cover size or hide it",options:{full:"Full cover",half:"Half cover",none:"Hide background"}},theme:"Theme",theme_color:{_:"Theme color",description:"Change the theme color"},themeScheme:{_:"Dark theme color scheme",description:"Select the color scheme for dark theme"},lyric:{_:"Lyric theme",description:"Change the theme of lyric page"},layout:{_:"Layout",list:"list",card:"card",artist:"Artist page layout",composer:"Composer page layout"}},lang:"Language"}},"2d9e":function(t,e,a){"use strict";a("a11d")},"304c":function(t,e,a){"use strict";a.r(e),e["default"]={title:"欢迎使用",description:"安装向导将会协助您初始化 PokaPlayer，请按照指示完成安装。",next:"下一步",database:{title:"数据库",description:"PokaPlayer 需要连接到 MongoDB 才能正常运作，请输入您的 MongoDB 资讯。",help:"如何填写 URI"},init:{title:"初始化",description:"正在初始化 PokaPlayer"},done:{title:"完成",description:"PokaPlayer 已经安装完成，请登入以继续使用。",enter:"登入"}}},"32c3":function(t,e,a){},3316:function(t,e,a){"use strict";a.r(e),e["default"]={title:"钉选管理",deleteConfirm:"您确定要取消钉选此项目吗？"}},"33dc":function(t,e,a){"use strict";a("e057")},"33f6":function(t,e,a){"use strict";a("f54c")},3405:function(t,e,a){},"3d02":function(t,e,a){},"3ef7":function(t,e,a){"use strict";a.r(e),e["default"]={title:"System settings",enabled:"Enabled",disabled:"Disabled",pokaplayer:{title:"PokaPlayer",debug:{title:"Debug mode",description:"Only for developers"},sc2tc:{title:"S2T",description:"Convert Chinese to Traditional Chinese"},fixPunctuation:{title:"Fix Punctuation",description:"Fix chinese punctuation"}},DSM:{title:"DSM",protocol:"Protocol",host:"Host",port:"Port",account:"Account",password:"Password"},QQMusic:{title:"QQ Music",description:"Lyrics source"},Netease2:{title:"Netease Cloud Music",isPremium:"Premium",topPlaylist:"Top Playlists",hqPlaylist:"High Quality Playlists",dailyRecommendSongs:"Daily Recommended Songs",dailyRecommendPlaylists:"Daily Recommended Playlists",server:"Server",method:"Login Method",account:"Account",password:"Password",countrycode:"Country code",limit:"Limit",order:"Order",order_hot:"Hot",order_time:"Time",categories:"Categories"},saveDialog:{title:"Save settings",description:"The server will restart to load the new settings file"}}},4267:function(t,e,a){},4277:function(t,e,a){},"4b8d":function(t,e,a){"use strict";a.r(e),e["default"]={title:"Software update",checking4updates:"Checking for updates...",latestVersion:"Your PokaPlayer is already up to date",update2:"Update to {version}",canUpdate2:"Can update to {version}",go2UpdatePage:"Go to update page",srvRestart:"Server restart",reconnect:"Reconnect",initializing:"Initializing...",updating:"Updating...",git_fetch:"Initialize complete.",git_reset:"Update download complete.",package_updated:"Package update complete.",dialog_note:"Notice: If you have not enabled Docker auto-restart, you must manually start PokaPlayer.",dialog_note_dev:"Development mode update only shows the simulation result of the interface.",dialog_view_previous:"View previous update log",dialog_title:"{version} Update log"}},"50ba":function(t,e,a){"use strict";a("eb90")},5470:function(t,e,a){},"549f":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var i={};a.r(i),a.d(i,"bottomPlayer",(function(){return mi})),a.d(i,"lyric",(function(){return bi})),a.d(i,"playlist",(function(){return Pi})),a.d(i,"player",(function(){return Ui})),a.d(i,"back",(function(){return Ei})),a.d(i,"cover",(function(){return ra})),a.d(i,"headerWrapper",(function(){return ua})),a.d(i,"pokaCard",(function(){return Ca})),a.d(i,"pokaCards",(function(){return Va})),a.d(i,"pokaLoader",(function(){return Ra})),a.d(i,"pinButton",(function(){return Wi})),a.d(i,"playRandomButton",(function(){return zi})),a.d(i,"pagination",(function(){return ja})),a.d(i,"pokaUpdate",(function(){return Ya})),a.d(i,"pokaReview",(function(){return ti})),a.d(i,"infoHeader",(function(){return _a})),a.d(i,"searchbar",(function(){return oi})),a.d(i,"parsePlaylists",(function(){return ds})),a.d(i,"parseSongs",(function(){return ys})),a.d(i,"parseArtists",(function(){return Cs})),a.d(i,"parseAlbums",(function(){return Vs})),a.d(i,"parseComposers",(function(){return Rs})),a.d(i,"parseFolders",(function(){return js})),a.d(i,"parseHome",(function(){return Ys})),a.d(i,"menuBtn",(function(){return ss}));var s=a("9f61"),r=a.n(s),o=a("bc3a"),n=a.n(o);window._randomPlay=function(){let t=Math.random().toString(36).substring(7);n()("/pokaapi/randomSongs?"+t).then(t=>t.data.songs).then(t=>{_addSongs({songs:t})}).catch(t=>alert("PokaPlayer Error\n"+t))},window._deepcopy=t=>JSON.parse(JSON.stringify(t)),window._addSongs=function({songs:t,index:e,clear:a=!0}){const i=window._setting("server"),s=window._setting("headerBgSource");let r=[];for(let o of t){let t=_deepcopy(o),e=_setting("audioQuality").toLowerCase(),a=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent);"DSM"==t.source&&"high"==e&&("mp3"==t.codec||"aac"==t.codec||"flac"==t.codec&&t.bitrate<=16e5&&!a)&&(e="original"),t.originalURL=t.url,t.url=i+t.url+"&songRes="+e,t.originalCover=t.cover,t.cover=t.cover&&t.cover.startsWith("http")?t.cover:t.cover?i+t.cover:s,t.uuid=_uuid(),r.push(t)}a&&_player.list.clear(),_player.list.add(r),e&&"random"===_player.options.order?(_player.options.order="list",_player.list.switch(e),_player.options.order="random"):e&&_player.list.switch(e),_player.play()},window._player=new r.a({container:document.getElementById("player")}),window._uuid=()=>{var t=Date.now();return"undefined"!==typeof performance&&"function"===typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var a=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?a:3&a|8).toString(16)}))},window._lyricReader=a("ef87"),window._lrc=new(a("ef87"))("[00:00.000]"),window._CSSsetting=(t,e)=>{let a=_setting("cssVariable");a[t]=e,_setting("cssVariable",a),document.documentElement.style.setProperty(t,e)},window._setting=(t,e)=>{let a=JSON.parse(localStorage.pokaSetting||"{}"),i={nickname:"Poka-"+Math.random().toString(36).substring(8).toUpperCase(),theme:"#5c95c4","color-scheme":"dim",lyricTheme:"default",artistView:"card",composerView:"card",audioQuality:"High",headerBgSource:"https://i.imgur.com/IdbJiao.jpg",darkMode:!1,dataRecord:!0,server:location.origin,password:"",cssVariable:{"--pokabgheight":"calc( 100vh - 69px - 64px )"}},s=navigator.language||navigator.userLanguage;switch(s){case"zh-TW":i.lang="zh_TW";break;case"zh-CN":i.lang="zh_CN";break;default:i.lang="en_US";break}return e?(a[t]=e,localStorage.pokaSetting=JSON.stringify(a),a[t]):a[t]?a[t]:i[t]?(a[t]=i[t]||"",localStorage.pokaSetting=JSON.stringify(a),a[t]):""},window._socket=io(window._setting("server"),{transports:["websocket"]});let l=document.documentElement;for(let[er,ar]of Object.entries(_setting("cssVariable")))l.style.setProperty(er,ar);var c=a("2b0e"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"page-container"},[a("router-view"),a("v-snackbar",{class:{withBottomPlayer:t.snackbar.withBottomPlayer},model:{value:t.snackbar.show,callback:function(e){t.$set(t.snackbar,"show",e)},expression:"snackbar.show"}},[t._v(t._s(t.snackbar.message))])],1)},u=[],p={created(){c["default"].prototype.$deepCopy=window._deepcopy,c["default"].prototype.$randomPlay=window._randomPlay,c["default"].prototype.$addSongs=window._addSongs,c["default"].prototype.$snackbar=(t="",e=1500)=>{this.snackbar.message=t,this.snackbar.withBottomPlayer=document.querySelectorAll(".bottom-player").length&&"/fullscreen"!=this.$route.path,this.snackbar.show=!0,clearTimeout(this.snackbar.timeout),this.snackbar.timeout=setTimeout(()=>this.snackbar.show=!1,e)},c["default"].prototype.$pagination=(t,e,a=40)=>(e-=1,t.slice(e*a,e*a+a)),c["default"].prototype.$getPages=(t,e=40)=>Math.ceil(t.length/e),this.$vuetify.theme.themes.dark.primary=window._setting("theme"),this.$vuetify.theme.themes.light.primary=window._setting("theme"),this.$nextTick(()=>{let t=document.documentElement;t.setAttribute("color-scheme",_setting("color-scheme")),console.log(getComputedStyle(t).getPropertyValue("--surface2")),this.$vuetify.theme.themes.dark.primary=getComputedStyle(t).getPropertyValue("--surface2"),document.getElementsByTagName("meta")["theme-color"].content=this.$vuetify.theme.isDark?getComputedStyle(t).getPropertyValue("--surface2").trim():"rgb(245, 245, 245)"})},data:()=>({snackbar:{show:!1,message:"",timeout:null,withBottomPlayer:!0}})},h=p,m=(a("cf25"),a("5c64"),a("d4db"),a("2877")),v=a("6544"),g=a.n(v),_=a("7496"),y=a("2db4"),f=Object(m["a"])(h,d,u,!1,null,null,null),b=f.exports;g()(f,{VApp:_["a"],VSnackbar:y["a"]});var w=a("8c4f"),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("portal-target",{attrs:{name:"app-bar",slim:""}},[a("v-app-bar",{style:"box-shadow: 0px 0px 0px 1px "+(t.$vuetify.theme.isDark?"rgba(255, 255, 255, 0.12)":"rgb(0 0 0 / 20%)"),attrs:{color:"#FFF",app:"","clipped-left":""}},[t.$vuetify.breakpoint.mdAndUp?t._e():a("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}},[a("v-icon",{staticClass:"bx"},[t._v("bx-menu")])],1),!t.showSeachBar||t.$vuetify.breakpoint.mdAndUp?a("router-link",{staticClass:"poka-logo",attrs:{to:"/"}},[a("h1",[t._v("PokaPlayer")])]):t._e(),a("v-spacer"),a("poka-searchbar",{model:{value:t.showSeachBar,callback:function(e){t.showSeachBar=e},expression:"showSeachBar"}}),a("menu-btn")],1)],1),a("v-navigation-drawer",{attrs:{app:"","mini-variant":t.$vuetify.breakpoint.mdAndUp,clipped:"",permanent:t.$vuetify.breakpoint.mdAndUp},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[t.$vuetify.breakpoint.mdAndUp?t._e():a("v-app-bar",{style:"box-shadow: 0px 0px 0px 1px rgba(255, 255, 255, 0.12)",attrs:{color:"#FFF"}},[a("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}},[a("v-icon",{staticClass:"bx"},[t._v("bx-x")])],1),!t.showSeachBar||t.$vuetify.breakpoint.mdAndUp?a("router-link",{staticClass:"ml-2 poka-logo",attrs:{to:"/"}},[a("h1",[t._v("PokaPlayer")])]):t._e(),a("v-spacer")],1),t.$vuetify.breakpoint.mdAndUp?a("v-list",{attrs:{dense:"",nav:""}},t._l(t.items,(function(e){return a("v-tooltip",{key:e.text,attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(i){var s=i.on,r=i.attrs;return[a("v-list-item",t._g(t._b({attrs:{to:e.to,link:""}},"v-list-item",r,!1),s),[a("v-list-item-icon",[a("v-icon",{staticClass:"bx"},[t._v(t._s(e.icon)+" ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t(e.text)))])],1)],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$t(e.text)))])])})),1):a("v-list",{attrs:{dense:"",nav:""}},t._l(t.items,(function(e){return a("v-list-item",{key:e.text,attrs:{to:e.to,link:""}},[a("v-list-item-icon",[a("v-icon",{staticClass:"bx"},[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t(e.text)))])],1)],1)})),1)],1),a("v-main",[a("div",{staticClass:"router-view"},[a("router-view")],1),a("div",{staticStyle:{height:"69px"}})]),a("buttom-player")],1)},x=[],C={name:"App",data(){return{scrollPositions:{},settings:{darkMode:window._setting("darkMode")},showSeachBar:!1,drawer:this.$vuetify.breakpoint.mdAndUp,items:[{icon:"bx-library",text:"library",to:"/library"},{icon:"bx-album",text:"album",to:"/album"},{icon:"bx-folder",text:"folder",to:"/folder"},{icon:"bx-microphone",text:"artist",to:"/artist"},{icon:"bx-pencil",text:"composer",to:"/composer"},{icon:"bxs-playlist",text:"playlist",to:"/playlist"}]}},created(){function t(){let t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",t+"px")}window.addEventListener("resize",t),t(),this.$router.beforeEach((t,e,a)=>{let i=document.querySelector("main");i&&(this.scrollPositions[e.name]=i.scrollTop),a(),this.$nextTick(()=>{let t=this.$router.history.current.name;if(i&&t in this.scrollPositions){let e=this.scrollPositions[t];setTimeout(()=>i.scrollTop=e,100)}})}),this.axios.defaults.withCredentials=!0,this.axios.defaults.baseURL=_setting("server"),this.getStatus(),_socket.emit("login",{username:window._setting("username"),password:window._setting("password")}),_socket.emit("send-nickname",_setting("nickname"))},methods:{switchTheme(){this.settings.darkMode=!this.settings.darkMode,window._setting("darkMode",this.settings.darkMode),this.settings.darkMode?window._theme.switchToDark():window._theme.switchToLight()},async getStatus(){let t=await this.axios.get(_setting("server")+"/status/");if(!t.data.login)return this.$router.push("/login");let e=await this.axios.get(_setting("server")+"/pokaapi/v2/user/");sessionStorage.setItem("login",JSON.stringify(e.data));let a=JSON.parse(e.data.settings);for(let i of Object.keys(a))_setting(i,a[i])}}},S=C,P=(a("ec54"),a("40dc")),$=a("8336"),T=a("132d"),D=a("8860"),V=a("da13"),L=a("5d23"),U=a("34c3"),I=a("f6c4"),A=a("f774"),N=a("2fa4"),R=a("3a2f"),B=Object(m["a"])(S,k,x,!1,null,"610527fe",null),E=B.exports;g()(B,{VAppBar:P["a"],VBtn:$["a"],VIcon:T["a"],VList:D["a"],VListItem:V["a"],VListItemContent:L["a"],VListItemIcon:U["a"],VListItemTitle:L["b"],VMain:I["a"],VNavigationDrawer:A["a"],VSpacer:N["a"],VTooltip:R["a"]});var F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},O=[],M={name:"App",created(){}},j=M,q=Object(m["a"])(j,F,O,!1,null,null,null),z=q.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["album"!=t.type?a("portal",{attrs:{to:"app-bar"}},[a("v-app-bar",{style:"box-shadow: 0px 0px 0px 1px "+(t.$vuetify.theme.isDark?"rgba(255, 255, 255, 0.12)":"rgb(0 0 0 / 20%)"),attrs:{color:"#FFF","clipped-left":"",app:""}},[a("back",{attrs:{icon:"",to:"/"+t.type}}),a("v-toolbar-title",{directives:[{name:"show",rawName:"v-show",value:!t.showSeachBar||t.$vuetify.breakpoint.mdAndUp,expression:"!showSeachBar || $vuetify.breakpoint.mdAndUp"}]},[t._v(t._s(t.name))]),a("v-spacer"),a("poka-searchbar",{model:{value:t.showSeachBar,callback:function(e){t.showSeachBar=e},expression:"showSeachBar"}})],1)],1):t._e(),"album"==t.type?a("poka-header",{attrs:{title:t.name,bg:t.cover}}):a("poka-header",{attrs:{title:t.$t(t.type),blurbg:"",bg:t.cover}}),a("v-slide-y-reverse-transition",[t.data?a("poka-parse-albums",{attrs:{data:t.data.albums}}):t._e()],1),t.data?t._e():a("poka-loader")],1)},Q=[],G={name:"Album",created(){this.fetchData()},watch:{"$route.path":function(){this.fetchData()}},data:()=>({data:null,cover:null,name:null,type:null,server:_setting("server"),showSeachBar:!1}),methods:{async fetchData(){let t;this.type=this.$route.meta.type,this.data=null,this.cover=_setting("headerBgSource");let e=this.$route.meta.type,{source:a,id:i}=this.$route.params;"unknown"==i&&(i=""),"album"==e?(this.name=this.$t("album"),t=_setting("server")+"/pokaapi/albums/"):(this.name="",t=`${this.server}/pokaapi/${e}Albums/?moduleName=${encodeURIComponent(a)}&id=${encodeURIComponent(i)}`),this.data=(await this.axios.get(t)).data,"album"!=e&&this.axios.get(`/pokaapi/${e}/?moduleName=${encodeURIComponent(a)}&id=${encodeURIComponent(i)}`).then(t=>{this.cover=_setting("server")+t.data.cover,this.name=t.data.name})}}},Y=G,J=a("0789"),W=a("2a7f"),K=Object(m["a"])(Y,H,Q,!1,null,null,null),X=K.exports;g()(K,{VAppBar:P["a"],VSlideYReverseTransition:J["h"],VSpacer:N["a"],VToolbarTitle:W["a"]});var Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"album-songs"},[a("portal",{attrs:{to:"app-bar"}},[a("v-app-bar",{style:"box-shadow: 0px 0px 0px 1px "+(t.$vuetify.theme.isDark?"rgba(255, 255, 255, 0.12)":"rgb(0 0 0 / 20%)"),attrs:{color:"#FFF","clipped-left":"",app:""}},[a("back",{attrs:{icon:""}}),a("v-toolbar-title",{directives:[{name:"show",rawName:"v-show",value:!t.showSeachBar||t.$vuetify.breakpoint.mdAndUp,expression:"!showSeachBar || $vuetify.breakpoint.mdAndUp"}]},[t._v(t._s(t.name))]),a("v-spacer"),a("poka-searchbar",{model:{value:t.showSeachBar,callback:function(e){t.showSeachBar=e},expression:"showSeachBar"}})],1)],1),a("poka-header",{attrs:{blurbg:!0,bg:t.cover||null}}),a("div",{staticClass:"album-songs-container"},[a("div",{staticClass:"album-info"},[a("info-header",{attrs:{title:t.name,subtitle:t.artist,cover:t.cover,songs:t.songs&&t.songs.length}},[a("v-fade-transition",[t.songs?a("pin-button",{attrs:{source:t.$route.params.source,id:t.$route.params.id,type:"album",cover:t.cover,artist:t.artist,name:t.name,"btn-type":"icon-button"}}):t._e()],1)],1)],1),a("v-divider",{attrs:{vertical:t.$vuetify.breakpoint.mdAndUp}}),a("div",{staticClass:"album-songs"},[t.songs?t._e():a("poka-loader",{staticStyle:{margin:"64px 0"}}),a("h1",{directives:[{name:"show",rawName:"v-show",value:t.songs,expression:"songs"}],staticClass:"title",staticStyle:{margin:"8px 16px"}},[t._v(" "+t._s(t.$t("song"))+" ")]),t.songs?a("poka-parse-songs",{staticStyle:{margin:"16px 0"},attrs:{data:t.songs}}):t._e(),t.artistAlbums&&t.songs?a("div",[a("v-divider"),a("div",{staticClass:"px-4"},[a("h1",{staticClass:"title",staticStyle:{margin:"8px 0"}},[t._v(" "+t._s(t.$t("albumsOfSameArtist"))+" ")]),a("poka-parse-albums",{attrs:{data:t.artistAlbums}})],1)],1):t._e()],1)],1)],1)},tt=[],et={name:"AlbumSongs",async created(){this.fetchData()},watch:{"$route.path":function(){this.fetchData()}},data:()=>({data:null,cover:null,name:null,artist:null,songs:null,artistAlbums:null,server:_setting("server"),showSeachBar:!1}),methods:{async fetchData(){let t=this.$route.params.source,e=this.$route.params.id;this.songs=null,this.name=this.$route.query.name||"█".repeat(10),this.artist=this.$route.query.artist||"█".repeat(10),this.cover=Boolean(this.$route.query.cover)?this.server+this.$route.query.cover:null,await this.axios.get(`${this.server}/pokaapi/album?moduleName=${encodeURIComponent(t)}&id=${encodeURIComponent(e)}`).then(t=>{this.songs=t.data.songs,this.artist=t.data.artist,this.cover=this.server+t.data.cover.replace(/'/,"\\'"),this.name=t.data.name});let a=this.artist,i=t,s=`${this.server}/pokaapi/artistAlbums/?moduleName=${encodeURIComponent(i)}&id=${encodeURIComponent(a)}`;this.axios.get(s).then(t=>{this.artistAlbums=t.data.albums.filter(t=>t.id!=e),this.artistAlbums.length<1&&(this.artistAlbums=null)})}}},at=et,it=(a("d14f"),a("ce7e")),st=Object(m["a"])(at,Z,tt,!1,null,"6d70dec5",null),rt=st.exports;g()(st,{VAppBar:P["a"],VDivider:it["a"],VFadeTransition:J["d"],VSpacer:N["a"],VToolbarTitle:W["a"]});var ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.$t("artist")}}),a("v-slide-y-reverse-transition",[t.data?a("poka-parse-artists",{attrs:{data:t.data.artists}}):t._e()],1),t.data?t._e():a("poka-loader")],1)},nt=[],lt={name:"Artist",created(){this.axios.get(_setting("server")+"/pokaapi/artists/").then(t=>{this.data=t.data})},data:()=>({data:null,server:_setting("server")})},ct=lt,dt=Object(m["a"])(ct,ot,nt,!1,null,null,null),ut=dt.exports;g()(dt,{VSlideYReverseTransition:J["h"]});var pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.$t("composer")}}),a("v-slide-y-reverse-transition",[t.data?a("poka-parse-composers",{attrs:{data:t.data.composers}}):t._e()],1),t.data?t._e():a("poka-loader")],1)},ht=[],mt={name:"Composer",created(){this.axios.get(_setting("server")+"/pokaapi/composers/").then(t=>{this.data=t.data})},data:()=>({data:null,server:_setting("server")})},vt=mt,gt=Object(m["a"])(vt,pt,ht,!1,null,null,null),_t=gt.exports;g()(gt,{VSlideYReverseTransition:J["h"]});var yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},ft=[],bt={},wt=bt,kt=Object(m["a"])(wt,yt,ft,!1,null,null,null),xt=kt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.$t("folder")}}),a("v-slide-y-reverse-transition",[a("back",{directives:[{name:"show",rawName:"v-show",value:!t.$route.meta.root,expression:"!$route.meta.root"}],staticStyle:{"margin-bottom":"16px"}})],1),a("v-slide-y-reverse-transition",[t.data?a("poka-parse-folders",{attrs:{data:t.data.folders}}):t._e()],1),a("v-slide-y-reverse-transition",[t.data?a("poka-parse-songs",{attrs:{data:t.data.songs}}):t._e()],1),t.data?t._e():a("poka-loader")],1)},St=[],Pt={name:"Folder",created(){this.fetchData()},data:()=>({data:null,server:_setting("server")}),watch:{"$route.path":function(t,e){this.fetchData()}},methods:{async fetchData(){this.data=null;let t=this.server+"/pokaapi/";if(this.$route.meta.root)t+="folders/";else{let e=encodeURIComponent(this.$route.params.source),a=encodeURIComponent(this.$route.params.id);t+=`folderFiles/?moduleName=${e}&id=${a}`}this.axios.get(t).then(t=>{this.data=t.data})},goBack(){window.history.length>1?this.$router.go(-1):this.$router.push("/folder")}}},$t=Pt,Tt=Object(m["a"])($t,Ct,St,!1,null,null,null),Dt=Tt.exports;g()(Tt,{VSlideYReverseTransition:J["h"]});var Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container",style:{"--bg":"url('"+t.bg+"')"}},[a("v-overlay",{attrs:{absolute:"",value:t.logining}},[a("poka-loader")],1),t._m(0),a("div",{staticClass:"login-form"},[a("form",{staticClass:"form-container",on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[a("h1",[t._v(t._s(t.$t("header_welcome")))]),a("v-text-field",{staticClass:"rounded-input",attrs:{outlined:"",label:t.$t("login.server"),disabled:t.logining},model:{value:t.server,callback:function(e){t.server="string"===typeof e?e.trim():e},expression:"server"}}),a("v-text-field",{staticClass:"rounded-input",attrs:{outlined:"",label:t.$t("login.username"),disabled:t.logining},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("v-text-field",{staticClass:"rounded-input",attrs:{outlined:"",label:t.$t("login.password"),type:"password",disabled:t.logining},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("div",{staticClass:"d-flex justify-center"},[a("v-btn",{attrs:{disabled:t.logining,rounded:"",large:"",color:"primary",type:"submit",width:"110px"}},[t._v(t._s(t.$t("login.title")))])],1)],1)]),a("div",{staticClass:"footer"},[a("div",{staticClass:"left-btns"},[a("v-btn",{staticClass:"mx-1",attrs:{depressed:"",fab:"",small:""},on:{click:function(e){t.lang_dialog=!0}}},[a("v-icon",{staticClass:"bx"},[t._v("bx-planet")])],1)],1),a("div",{staticClass:"right-btns"},[a("v-btn",{attrs:{href:"https://github.com/gnehs/PokaPlayer",target:"_blank",depressed:"",fab:"",small:""}},[a("v-icon",{staticClass:"bx"},[t._v("bxl-github")])],1)],1)]),a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.lang_dialog,callback:function(e){t.lang_dialog=e},expression:"lang_dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("settings.interface.lang")))]),a("v-card-text",[a("div",{staticClass:"poka list"},t._l(t.languages,(function(e,i){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:"lang"+e+"-"+i,staticClass:"item",on:{click:function(a){return t.setLang(e)}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",{staticClass:"bx"},[t._v("bx-planet")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("title",e)))])])],1)])})),0)]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.lang_dialog=!1}}},[t._v(t._s(t.$t("cancel")))])],1)],1)],1)],1)},Lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("img",{attrs:{src:"/img/icons/icon.png"}})])}],Ut={name:"Login",data:()=>({logining:!1,bg:_setting("headerBgSource"),server:null,password:null,username:null,lang_dialog:!1,languages:Object.keys(window.i18n.messages),currentLang:i18n.locale}),created(){this.password=_setting("password"),this.username=_setting("username"),this.server=_setting("server")},methods:{setLang(t){window.i18n.locale=t,this.currentLang=t,window._setting("lang",t),this.lang_dialog=!1},async login(){if(this.server=this.server.replace(/\/$/,""),!this.password||!this.server||!this.username)return this.$snackbar("Please fill in all fields");let t;this.logining=!0;try{await this.axios.get(this.server+"/logout/"),t=await this.axios({method:"post",url:this.server+"/login/",data:{password:this.password,username:this.username}}).then(t=>t.data)}catch(e){this.$snackbar(this.$t("requestError"))}if(this.logining=!1,!t.success)return this.logining=!1,this.$snackbar("Wrong password"),this.password="",!1;{_setting("password",this.password),_setting("username",this.username),_setting("server",this.server);let t=(await this.axios(this.server+"/pokaapi/v2/user/setting/")).data;for(let e of Object.keys(t.settings))_setting(e,t.settings[e]);this.$router.push("/"),window.location.reload()}}}},It=Ut,At=(a("50ba"),a("c528"),a("8212")),Nt=a("b0af"),Rt=a("99d9"),Bt=a("169a"),Et=a("a797"),Ft=a("8654"),Ot=a("269a"),Mt=a.n(Ot),jt=a("5607"),qt=Object(m["a"])(It,Vt,Lt,!1,null,"27d08bcf",null),zt=qt.exports;g()(qt,{VAvatar:At["a"],VBtn:$["a"],VCard:Nt["a"],VCardActions:Rt["a"],VCardText:Rt["b"],VCardTitle:Rt["c"],VDialog:Bt["a"],VIcon:T["a"],VOverlay:Et["a"],VSpacer:N["a"],VTextField:Ft["a"]}),Mt()(qt,{Ripple:jt["a"]});var Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header"),a("v-card",{key:"card",staticClass:"mx-auto blur-card",staticStyle:{"margin-top":"32px"},attrs:{"max-width":"344"}},[a("v-card-text",{staticClass:"text-center"},[a("v-icon",{staticClass:"bx bx-lg mb-2"},[t._v("bx-ghost")]),a("p",{staticClass:"headline text--primary"},[t._v(t._s(t.$t("nothingFound")))]),a("v-btn",{attrs:{outlined:"",color:"primary",to:"/"}},[t._v(t._s(t.$t("home")))])],1)],1)],1)},Qt=[],Gt={name:"Notfound"},Yt=Gt,Jt=Object(m["a"])(Yt,Ht,Qt,!1,null,null,null),Wt=Jt.exports;g()(Jt,{VBtn:$["a"],VCard:Nt["a"],VCardText:Rt["b"],VIcon:T["a"]});var Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["PlaylistFolder"==t.$route.name?a("portal",{attrs:{to:"app-bar"}},[a("v-app-bar",{style:"box-shadow: 0px 0px 0px 1px "+(t.$vuetify.theme.isDark?"rgba(255, 255, 255, 0.12)":"rgb(0 0 0 / 20%)"),attrs:{color:"#FFF","clipped-left":"",app:""}},[a("back",{attrs:{icon:"",to:"/playlist"}}),a("v-toolbar-title",{directives:[{name:"show",rawName:"v-show",value:!t.showSeachBar||t.$vuetify.breakpoint.mdAndUp,expression:"!showSeachBar || $vuetify.breakpoint.mdAndUp"}]},[t._v(t._s(t.title))]),a("v-spacer"),a("poka-searchbar",{model:{value:t.showSeachBar,callback:function(e){t.showSeachBar=e},expression:"showSeachBar"}})],1)],1):t._e(),a("poka-header",{attrs:{title:"PlaylistFolder"==t.$route.name?"":t.title,bg:t.cover}}),a("v-slide-y-reverse-transition",[t.data?a("poka-parse-playlists",{attrs:{data:t.data}}):t._e()],1),t.data?t._e():a("poka-loader")],1)},Xt=[];const Zt=a("92b2");var te={name:"Playlist",watch:{"$route.path":function(t,e){this.fetchData()}},created(){this.fetchData()},data:()=>({data:null,rawData:null,cover:null,title:i18n.t("playlist"),showSeachBar:!1}),methods:{async fetchData(){let t=this.$route.params.pathMatch,e=this.$route.name;if(this.data=null,!this.rawData){let{playlists:t,playlistFolders:e}=(await this.axios(_setting("server")+"/pokaapi/playlists")).data;this.rawData=[...t,...e]}"PlaylistFolder"==e?(this.title=this.rawData.filter(e=>e.id==t)[0].name,this.data=this.rawData.filter(e=>e.id==t)[0].playlists,this.cover=Zt.generate(this.title,{baseColor:"#fc0"}).toDataUri()):(this.title=i18n.t("playlist"),this.data=this.rawData,this.cover=_setting("headerBgSource"))}}},ee=te,ae=Object(m["a"])(ee,Kt,Xt,!1,null,null,null),ie=ae.exports;g()(ae,{VAppBar:P["a"],VSlideYReverseTransition:J["h"],VSpacer:N["a"],VToolbarTitle:W["a"]});var se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("portal",{attrs:{to:"app-bar"}},[a("v-app-bar",{style:"box-shadow: 0px 0px 0px 1px "+(t.$vuetify.theme.isDark?"rgba(255, 255, 255, 0.12)":"rgb(0 0 0 / 20%)"),attrs:{color:"#FFF","clipped-left":"",app:""}},[a("back",{attrs:{icon:"",to:"/playlist"}}),a("v-toolbar-title",{directives:[{name:"show",rawName:"v-show",value:!t.showSeachBar||t.$vuetify.breakpoint.mdAndUp,expression:"!showSeachBar || $vuetify.breakpoint.mdAndUp"}]},[t._v(t._s(t.title))]),a("v-spacer"),a("poka-searchbar",{model:{value:t.showSeachBar,callback:function(e){t.showSeachBar=e},expression:"showSeachBar"}})],1)],1),a("poka-header",{attrs:{blurbg:!t.isCoverGenerate,bg:t.cover}}),t.data?t._e():a("poka-loader"),t.data?a("div",{staticClass:"playlist-songs-container"},[a("div",{staticClass:"playlist-info"},[a("info-header",{attrs:{title:t.title||t.$t("loading"),subtitle:t.$t("playlist"),cover:t.cover,songs:t.data?t.data.songs.length:0}},[t.title?a("pin-button",{attrs:{source:t.$route.params.source,id:t.$route.params.id,cover:t.isCoverGenerate?null:t.cover,type:"playlist",name:t.title,"btn-type":"icon-button"}}):t._e(),t.fromPoka?a("v-btn",{staticClass:"ml-2 rounded-lg",attrs:{outlined:"",color:"info"},on:{click:function(e){t.playlistDialog=!0}}},[a("v-icon",{staticClass:"bx mr-2"},[t._v("bx-edit-alt")]),t._v(" "+t._s(t.$t("playlist_page.edit_title"))+" ")],1):t._e()],1)],1),a("v-divider",{attrs:{vertical:t.$vuetify.breakpoint.mdAndUp}}),a("div",{staticClass:"playlist-songs"},[a("h1",{staticClass:"title",staticStyle:{margin:"8px 16px"},domProps:{textContent:t._s(t.$t("song"))}}),a("poka-parse-songs",{attrs:{data:t.data.songs}})],1)],1):t._e(),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.playlistDialog,callback:function(e){t.playlistDialog=e},expression:"playlistDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("playlist_page.edit_title")))]),a("v-card-text",{staticStyle:{"padding-bottom":"0"}},[a("v-text-field",{attrs:{label:t.$t("playlist_page.title_input"),outlined:"","hide-details":""},model:{value:t.editData.name,callback:function(e){t.$set(t.editData,"name",e)},expression:"editData.name"}}),a("br"),a("v-text-field",{attrs:{label:t.$t("playlist_page.cover_input"),outlined:"","hide-details":""},model:{value:t.editData.image,callback:function(e){t.$set(t.editData,"image",e)},expression:"editData.image"}})],1),a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:function(e){t.playlistDialog=!1,t.playlistDel=!0}}},[t._v(t._s(t.$t("playlist_page.del")))]),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.editPlaylist}},[t._v(t._s(t.$t("done")))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.playlistDel,callback:function(e){t.playlistDel=e},expression:"playlistDel"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("playlist_page.del_title")))]),a("v-card-text",[t._v(t._s(t.$t("playlist_page.delconfirm",{title:t.title})))]),a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:function(e){t.playlistDel=!1}}},[t._v(t._s(t.$t("cancel")))]),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.playlistDel=!1,t.delPlaylist()}}},[t._v(t._s(t.$t("ok")))])],1)],1)],1)],1)},re=[];const oe=a("92b2");var ne={name:"PlaylistSongs",data:()=>({data:null,title:null,cover:_setting("headerBgSource"),isCoverGenerate:!0,server:_setting("server"),editData:{name:null,image:_setting("headerBgSource")},fromPoka:!1,playlistDialog:!1,playlistDel:!1,playlistDelConfirm:"",showSeachBar:!1}),created(){this.fetchData()},methods:{async editPlaylist(){if(""==this.editData.name||""==this.editData.cover)return this.$snackbar(i18n.t("playlist_page.edit_empty"));this.playlistDialog=!1,await this.axios.post(this.server+"/pokaapi/playlist/edit",{id:this.data.playlists[0].id,data:this.editData}),this.fetchData()},async delPlaylist(){await this.axios.post(this.server+"/pokaapi/playlist/del",{id:this.data.playlists[0].id}),this.$router.push("/playlist")},fetchData(){let t=encodeURIComponent(this.$route.params.source),e=encodeURIComponent(this.$route.params.id),a=this.server;this.axios.get(`${a}/pokaapi/playlistSongs/?moduleName=${t}&id=${e}&rnd=${Math.floor(9999999*Math.random())}`).then(t=>{this.data=t.data,this.title=this.data.playlists[0].name,this.editData.name=this.data.playlists[0].name,this.data.playlists[0].image?(this.cover=this.data.playlists[0].image,this.editData.image=this.data.playlists[0].image,this.isCoverGenerate=!1,this.data.playlists[0].image.startsWith("http")||(this.cover=this.server+this.cover)):(this.cover=oe.generate(this.title,{baseColor:"#fc0"}).toDataUri(),this.isCoverGenerate=!0),this.fromPoka="poka"==this.data.playlists[0].source})}}},le=ne,ce=(a("8d6b"),Object(m["a"])(le,se,re,!1,null,"b0e0516a",null)),de=ce.exports;g()(ce,{VAppBar:P["a"],VBtn:$["a"],VCard:Nt["a"],VCardActions:Rt["a"],VCardText:Rt["b"],VCardTitle:Rt["c"],VDialog:Bt["a"],VDivider:it["a"],VIcon:T["a"],VSpacer:N["a"],VTextField:Ft["a"],VToolbarTitle:W["a"]});var ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},pe=[],he={name:"Shuffle",created(){this.$randomPlay(),this.$router.push("/")}},me=he,ve=Object(m["a"])(me,ue,pe,!1,null,null,null),ge=ve.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:"媒體庫"}}),a("poka-update"),a("poka-review"),t.data?t._e():a("poka-loader"),a("v-slide-y-reverse-transition",[t.data?a("poka-parse-home",{attrs:{data:t.data}}):t._e()],1)],1)},ye=[],fe={name:"Home",async created(){try{let{data:t}=await this.axios.get(`${_setting("server")}/pokaapi/home/?${Math.random().toString(36).substring(7)}`);this.data=t,this.name=JSON.parse(sessionStorage.login).name}catch(t){this.$router.push("/login")}},data:()=>({data:null,name:null})},be=fe,we=Object(m["a"])(be,_e,ye,!1,null,null,null),ke=we.exports;g()(we,{VSlideYReverseTransition:J["h"]});var xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("portal",{attrs:{to:"app-bar"}},[a("v-app-bar",{style:"box-shadow: 0px 0px 0px 1px "+(t.$vuetify.theme.isDark?"rgba(255, 255, 255, 0.12)":"rgb(0 0 0 / 20%)"),attrs:{color:"#FFF","clipped-left":"",app:""}},[a("back",{attrs:{icon:"",to:"/library"}}),a("v-toolbar-title",[t._v(t._s(t.$t("lyricEditor.title")))]),a("v-spacer")],1)],1),a("div",{attrs:{id:"lrc-editor"}},[t.lyric.length>1?a("div",{key:"lyric",staticClass:"lyric-view",class:{lyricTranslated:t.lyricTranslated}},t._l(t.lyric,(function(e,i){return a("p",{key:i,class:{focus:i==t.lyricFocus},on:{click:function(a){return t.musicSeek(e.timestamp)}}},[a("span",{staticClass:"timestamp"},[t._v(t._s(t.timeToTag(e.timestamp)))]),t._v(" "+t._s(e.text)+" ")])})),0):t._e(),a("div",{attrs:{id:"lyric-edit"}},[a("v-card",{staticClass:"mx-auto",attrs:{id:"lyric-edit-about"}},[a("v-card-text",[a("div",[t._v(t._s(t.$t("lyricEditor.title")))]),a("p",{staticClass:"display-1 text--primary"},[t._v(t._s(t.$t("lyricEditor.instructionsTitle")))]),a("div",{staticClass:"text--primary",domProps:{innerHTML:t._s(t.$t("lyricEditor.instructionsContent"))}})])],1),a("v-card",{staticClass:"mx-auto",attrs:{id:"lyric-edit-about-phone"}},[a("v-card-text",[a("div",[t._v(t._s(t.$t("lyricEditor.title")))]),a("p",{staticClass:"display-1 text--primary"},[t._v(t._s(t.$t("lyricEditor.instructionsTitle")))]),a("div",{staticClass:"text--primary",domProps:{innerHTML:t._s(t.$t("lyricEditor.instructionsContentPhone"))}})])],1),a("v-card",{staticClass:"mx-auto",attrs:{id:"lyric-edit-time-shift"}},[a("v-card-text",{staticStyle:{"padding-bottom":"0"}},[a("div",[t._v(t._s(t.$t("lyricEditor.timeShifting")))]),a("p",{staticClass:"display-1 text--primary",staticStyle:{"margin-bottom":"0"}},[t._v(t._s(t.timeShiftValue>=0?"+":"")+t._s(t.timeShiftValue)+"s")])]),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"red accent-4"},on:{click:function(e){return t.timeShift(-.5)}}},[t._v("-0.5s")]),a("v-btn",{attrs:{text:"",color:"red accent-4"},on:{click:function(e){return t.timeShift(-.1)}}},[t._v("-0.1s")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.timeShift(.1)}}},[t._v("+0.1s")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.timeShift(.5)}}},[t._v("+0.5s")]),a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.timeShift(-t.timeShiftValue)}}},[t._v(t._s(t.$t("lyricEditor.timeShiftingReset")))])],1)],1),a("v-card",{staticClass:"mx-auto",attrs:{id:"lyric-edit-text-editor"}},[a("v-card-text",{staticStyle:{"padding-bottom":"0"}},[a("div",[t._v(t._s(t.$t("lyricEditor.textEditor")))]),a("v-textarea",{attrs:{"max-height":"100%",rows:"20"},model:{value:t.lyric_raw,callback:function(e){t.lyric_raw=e},expression:"lyric_raw"}})],1)],1)],1)]),a("v-fab-transition",[a("v-btn",{staticStyle:{bottom:"calc(16px + 69px)"},attrs:{color:"primary",fab:"",large:"",dark:"",bottom:"",right:"",fixed:""},on:{click:t.saveLyric}},[a("v-icon",{staticClass:"bx"},[t._v("bx-check")])],1)],1)],1)},Ce=[],Se={name:"LyricEdit",data:()=>({audio_title:null,audio_artist:null,audio_cover:null,showLyricDialog:!1,lyric:[],lyric_raw:null,lyricFocus:0,lyricSearching:!0,lyricSearchResult:null,lyricTranslated:!1,lyricSearchkeyword:null,Lyric_Update:null,timeShiftValue:0}),created(){this.updateLyric(),this.startUpdateLyric(),_player.options.order=_player.options.order+"_r",this.lyric_raw=window.localStorage["lrc_temp"],this.loadLrc(this.lyric_raw)},destroyed(){this.stopUpdateLyric(),_player.options.order=_player.options.order.replace("_r","")},watch:{lyric_raw(t){this.loadLrc(t)}},methods:{loadLrc(t){if(window._lrc.load(t),window._lrc.lyrics_all[window._lrc.lyrics_all.length-2].timestamp==window._lrc.lyrics_all[window._lrc.lyrics_all.length-1].timestamp){let t=window._lrc.lyrics_all[window._lrc.lyrics_all.length-2].text;window._lrc.lyrics_all[window._lrc.lyrics_all.length-2].text=window._lrc.lyrics_all[window._lrc.lyrics_all.length-1].text,window._lrc.lyrics_all[window._lrc.lyrics_all.length-1].text=t,this.lyricTranslated=!0}},timeShift(t){let e=window._lrc.getLyrics(),a="";for(let i in e)e[i].timestamp=this.minus(e[i].timestamp,this.times(t,-1)),a+=`[${this.timeToTag(e[i].timestamp)}]${e[i].text}\n`;this.lyric_raw=a,this.timeShiftValue=this.minus(this.timeShiftValue,this.times(t,-1))},musicSeek(t){_player.seek(t)},minus(t,e,...a){if(a.length>0)return this.minus(this.minus(t,e),a[0],...a.slice(1));const i=Math.pow(10,Math.max(this.digitLength(t),this.digitLength(e)));return(this.times(t,i)-this.times(e,i))/i},digitLength(t){const e=t.toString().split(/[eE]/),a=(e[0].split(".")[1]||"").length-+(e[1]||0);return a>0?a:0},times(t,e,...a){function i(t){(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&console.warn(t+" is beyond boundary when transfer to integer, the results may not be accurate")}function s(t){if(-1===t.toString().indexOf("e"))return Number(t.toString().replace(".",""));const e=this.digitLength(t);return e>0?t*Math.pow(10,e):t}if(a.length>0)return this.times(this.times(t,e),a[0],...a.slice(1));const r=s(t),o=s(e),n=this.digitLength(t)+this.digitLength(e),l=r*o;return i(l),l/Math.pow(10,n)},timeToTag(t){let e=Math.floor(t/60),a=this.minus(t,60*e);return`${e}:${a}`},startUpdateLyric(){this.Lyric_Update=setInterval(()=>this.updateLyric(),300)},stopUpdateLyric(){this.Lyric_Update&&clearInterval(this.Lyric_Update)},updateLyric(){if(this.lyric=window._lrc.getLyrics(),this.lyric.length>1){let t=window._lrc.select(_player.audio.currentTime);this.lyricFocus!=t&&(this.lyricFocus=t,this.$nextTick(()=>{let t=document.querySelector(".lyric-view p.focus");t?t.scrollIntoView({behavior:"smooth",block:"center"}):this.lyricFocus=0}))}},saveLyric(){let t=_player.list.audios[_player.list.index];this.axios.post(_setting("server")+"/pokaapi/lyric",{title:t.name,artist:t.artist,songId:t.id,source:t.source,lyric:this.lyric_raw}),this.$snackbar(i18n.t("lrc_saved")),this.$router.push("/fullscreen")}}},Pe=Se,$e=(a("e504"),a("1a0e"),a("a844")),Te=Object(m["a"])(Pe,xe,Ce,!1,null,"d1247114",null),De=Te.exports;g()(Te,{VAppBar:P["a"],VBtn:$["a"],VCard:Nt["a"],VCardActions:Rt["a"],VCardText:Rt["b"],VFabTransition:J["c"],VIcon:T["a"],VSpacer:N["a"],VTextarea:$e["a"],VToolbarTitle:W["a"]});var Ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.keyword,subtitle:t.$t("search")}}),a("v-overlay",{attrs:{absolute:"",value:t.isLoading}},[a("poka-loader")],1),a("v-slide-y-reverse-transition",[t.searchResult?a("div",[a("div",{staticClass:"chip-nav"},t._l(Object.keys(t.searchResult).filter((function(e){return t.searchResult[e].length})),(function(e){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e,staticClass:"chip-nav-item",class:{active:t.active==e},on:{click:function(a){t.active=e}}},[a("span",[t._v(t._s(t.$t(e.substring(0,e.length-1))))])])})),0),t._l(Object.keys(t.searchResult).filter((function(e){return t.searchResult[e].length})),(function(e){return a("div",{key:e},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.active==e,expression:"active == itemName"}]},["songs"==e?a("poka-parse-songs",{attrs:{data:t.searchResult[e]}}):t._e(),"albums"==e?a("poka-parse-albums",{attrs:{data:t.searchResult[e]}}):t._e(),"playlists"==e?a("poka-parse-playlists",{attrs:{data:t.searchResult[e]}}):t._e(),"folders"==e?a("poka-parse-folders",{attrs:{data:t.searchResult[e]}}):t._e(),"composers"==e?a("poka-parse-composers",{attrs:{data:t.searchResult[e]}}):t._e(),"artists"==e?a("poka-parse-artists",{attrs:{data:t.searchResult[e]}}):t._e()],1)])}))],2):t._e()])],1)},Le=[],Ue={name:"Search",data:()=>({keyword:"",active:null,searchResult:!1,isLoading:!1,searchBoxFocus:!1}),created(){this.$route.query.keyword&&(this.keyword=this.$route.query.keyword,this.search())},watch:{"$route.query.keyword"(){console.log(this.$route.query.keyword),this.keyword=this.$route.query.keyword,this.search()}},methods:{searchClick(){this.$router.replace({query:{keyword:this.keyword}}),this.search()},search(){this.keyword&&""!=this.keyword&&(this.isLoading=!0,this.axios.get(_setting("server")+"/pokaapi/search/?keyword="+this.keyword).then(t=>{this.searchResult=t.data,this.active=Object.keys(this.searchResult).filter(t=>this.searchResult[t].length)[0],this.isLoading=!1}).catch(t=>this.isLoading=!1))}}},Ie=Ue,Ae=(a("33dc"),Object(m["a"])(Ie,Ve,Le,!1,null,"187a9f34",null)),Ne=Ae.exports;g()(Ae,{VOverlay:Et["a"],VSlideYReverseTransition:J["h"]}),Mt()(Ae,{Ripple:jt["a"]});var Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"install-container",style:{"--bg":"url('"+t.bg+"')"}},[a("v-overlay",{attrs:{absolute:"",value:t.logining}},[a("poka-loader")],1),t._m(0),a("div",{staticClass:"install-form"},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.step,expression:"step == 1"}],staticClass:"form-container"},[a("h1",[t._v(t._s(t.$t("install.title")))]),a("p",{staticClass:"text-center"},[t._v(t._s(t.$t("install.description")))]),a("div",{staticClass:"poka list"},t._l(t.languages,(function(e,i){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:"lang"+e+"-"+i,staticClass:"item",class:{active:e==t.currentLang},on:{click:function(a){return t.setLang(e)}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[e==t.currentLang?a("v-icon",{staticClass:"bx"},[t._v("bx-check")]):a("v-icon",{staticClass:"bx"})],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("title",e)))])])],1)])})),0),a("div",{staticClass:"d-flex justify-center mt-8"},[a("v-btn",{attrs:{rounded:"",large:"",color:"primary",width:"110px",disabled:""},on:{click:function(e){t.step=2}}},[t._v(t._s(t.$t("install.next")))])],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.step,expression:"step == 2"}],staticClass:"form-container"},[a("h1",[t._v(t._s(t.$t("install.database.title")))]),a("p",{staticClass:"text-center"},[t._v(t._s(t.$t("install.database.description")))]),a("v-text-field",{attrs:{label:"URI",rules:[function(t){return!!t}],required:"","prepend-icon":"bx-data"},model:{value:t.db_uri,callback:function(e){t.db_uri=e},expression:"db_uri"}}),a("div",{staticClass:"d-flex justify-center mt-8"},[a("v-btn",{attrs:{rounded:"",large:"",color:"primary",width:"110px"},on:{click:t.done}},[t._v(t._s(t.$t("install.next")))])],1),a("div",{staticClass:"d-flex justify-center mt-8"},[a("v-btn",{attrs:{text:"",href:"https://docs.mongodb.com/manual/reference/connection-string/",target:"_blank"}},[a("v-icon",{staticClass:"bx"},[t._v("bx-help-circle")]),t._v(" "+t._s(t.$t("install.database.help"))+" ")],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:3==t.step,expression:"step == 3"}],staticClass:"form-container"},[a("h1",[t._v(t._s(t.$t("install.init.title")))]),a("p",{staticClass:"text-center"},[t._v(t._s(t.$t("install.init.description")))]),a("poka-loader")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:4==t.step,expression:"step == 4"}],staticClass:"form-container"},[a("h1",[t._v(t._s(t.$t("install.done.title")))]),a("p",{staticClass:"text-center"},[t._v(t._s(t.$t("install.done.description")))]),a("div",{staticClass:"d-flex justify-center mt-8"},[a("v-btn",{attrs:{rounded:"",large:"",color:"primary",width:"110px",to:"/login"}},[t._v(t._s(t.$t("login.title")))])],1)])]),a("div",{staticClass:"footer"},[a("div",{staticClass:"right-btns"},[a("v-btn",{attrs:{href:"https://github.com/gnehs/PokaPlayer",target:"_blank",depressed:"",fab:"",small:""}},[a("v-icon",{staticClass:"bx"},[t._v("bxl-github")])],1)],1)])],1)},Be=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("img",{attrs:{src:"/img/icons/icon.png"}})])}],Ee={name:"Login",data:()=>({logining:!1,bg:_setting("headerBgSource"),languages:Object.keys(window.i18n.messages),currentLang:i18n.locale,step:1,db_uri:""}),created(){},methods:{setLang(t){window.i18n.locale=t,this.currentLang=t,window._setting("lang",t),this.lang_dialog=!1},done(){this.step=3,setTimeout(()=>{this.bg="/img/done.svg",this.step=4},2e3)}}},Fe=Ee,Oe=(a("a8b9"),a("9127"),Object(m["a"])(Fe,Re,Be,!1,null,null,null)),Me=Oe.exports;g()(Oe,{VAvatar:At["a"],VBtn:$["a"],VIcon:T["a"],VOverlay:Et["a"],VTextField:Ft["a"]}),Mt()(Oe,{Ripple:jt["a"]}),c["default"].use(w["a"]);var je=new w["a"]({mode:"history",routes:[{path:"/",name:"root",component:E,redirect:"/library",children:[{path:"/library",name:"Library",component:ke,meta:{fullscreen:!1}},{path:"/fullscreen",name:"fullscreen",component:xt,meta:{fullscreen:!0}},{path:"/lyric/edit",name:"LyricEdit",component:De},{path:"/album/songs/:source/:id",name:"AlbumSongs",component:rt},{path:"/album",name:"Album",component:X,meta:{type:"album"}},{path:"/artist/:source/:id",name:"ArtistAlbum",component:X,meta:{type:"artist"}},{path:"/artist",name:"Artist",component:ut},{path:"/composer/:source/:id",name:"ComposerAlbum",component:X,meta:{type:"composer"}},{path:"/composer",name:"Composer",component:_t},{path:"/folder/:source/:id",name:"folderFiles",component:Dt,meta:{root:!1}},{path:"/folder",name:"Folder",component:Dt,meta:{root:!0}},{path:"/playlist/f/*",name:"PlaylistFolder",component:ie},{path:"/playlist/p/:source/:id",component:de,name:"PlaylistSongs"},{path:"/playlist",name:"Playlist",component:ie},{path:"/search",name:"Search",component:Ne},{path:"/shuffle",name:"Shuffle",component:ge},{path:"/notfound",name:"Notfound",component:Wt},{path:"/debug",name:"Debug",component:()=>a.e("chunk-b8a804c8").then(a.bind(null,"9bd8"))},{path:"/review",name:"Review",component:()=>a.e("chunk-c84dfbd6").then(a.bind(null,"37ef"))},{path:"",redirect:"/library"},{path:"/settings",name:"setting",redirect:"/settings/network",component:()=>a.e("setting").then(a.bind(null,"6822")),children:[{path:"/settings/interface",name:"SettingInterface",component:()=>a.e("setting").then(a.bind(null,"63d0"))},{path:"/settings/network",name:"SettingNetwork",component:()=>a.e("setting").then(a.bind(null,"28df"))},{path:"/settings/user",name:"SettingUser",component:()=>a.e("setting").then(a.bind(null,"a935"))},{path:"/settings/pins",name:"settings.pins",component:()=>a.e("setting").then(a.bind(null,"0c1e"))},{path:"/settings/about",name:"SettingAbout",component:()=>a.e("setting").then(a.bind(null,"20a7"))}]},{path:"/admin",name:"settingAdmin",redirect:"/admin/system",component:()=>a.e("setting-admin").then(a.bind(null,"12de")),children:[{path:"/admin/system",name:"SettingSystem",component:()=>a.e("setting-admin").then(a.bind(null,"703c"))},{path:"/admin/users",name:"SettingAdminUsers",component:()=>a.e("setting-admin").then(a.bind(null,"5498"))},{path:"/admin/config",name:"SettingAdminConfig",component:()=>a.e("setting-admin").then(a.bind(null,"4c09"))},{path:"/admin/log",name:"AdminLog",component:()=>a.e("setting-admin").then(a.bind(null,"818a"))}]}]},{path:"/",name:"empty",component:z,children:[{path:"/login",name:"Login",component:zt},{path:"/install",name:"install",component:Me}]},{path:"*",redirect:"/notfound"}]}),qe=a("a925");let ze={zh_CN:a("b60a").default,zh_TW:a("d913").default,en_US:a("2c12").default};c["default"].use(qe["a"]);const He=window._setting("lang"),Qe=ze,Ge=new qe["a"]({locale:He,fallbackLocale:"en_US",messages:Qe,missing:(t,e,a)=>e});window.i18n=Ge;var Ye=Ge,Je=a("9483");Object(Je["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var We=a("2b88"),Ke=a.n(We),Xe=a("130e"),Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cover",style:{"--size":t.size}},[a("img",{staticClass:"cover-img",attrs:{"aspect-ratio":"1",src:t.parsedCover}}),t.hideShadow?t._e():a("img",{staticClass:"cover-shadow",attrs:{"aspect-ratio":"1",src:t.parsedCover}})])},ta=[];const ea=a("92b2");var aa={name:"poka-cover",props:{cover:{type:String},size:{type:String},name:{type:String,default:"cover"},hideShadow:{type:Boolean,default:!1}},data:()=>({parsedCover:null}),watch:{cover(){this.updateImg()}},created(){this.updateImg()},methods:{updateImg(){this.cover?this.parsedCover=this.cover:this.parsedCover=ea.generate(this.name,{baseColor:"#fc0"}).toDataUri()}}},ia=aa,sa=(a("ed7c"),Object(m["a"])(ia,Ze,ta,!1,null,"aa671508",null)),ra=sa.exports,oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"sticky",top:"16px"}},[a("div",{staticClass:"header-wrapper"},[a("div",{staticClass:"bg",class:{blur:t.blurbg},style:{backgroundImage:"url('"+t.bg+"')"}})]),t.title?a("div",{staticClass:"hw-header",staticStyle:{"line-height":"normal"},style:t.headerStyle},[a("div",{staticClass:"hw-title"},[t._v(t._s(t.title))]),a("div",{staticClass:"hw-subtitle"},[t._v(t._s(t.subtitle))])]):t._e()])},na=[],la={name:"poka-header",data:()=>({headerStyle:{opacity:1,transform:""}}),props:{title:String,subtitle:String,bg:{type:String,default:_setting("headerBgSource")},blurbg:{type:Boolean,default:!1}},methods:{handleScroll(t){if(document.querySelector("main")){let t=document.querySelector("main").scrollTop,e=40;this.headerStyle.opacity=1-t/200,this.headerStyle.transform=`translate(0,-${t/e*35}px)`}}},mounted(){this.handleScroll(),document.querySelector("main")&&document.querySelector("main").addEventListener("scroll",this.handleScroll)},created(){this.handleScroll(),document.querySelector("main")&&document.querySelector("main").addEventListener("scroll",this.handleScroll)},destroyed(){document.querySelector("main")&&document.querySelector("main").removeEventListener("scroll",this.handleScroll)}},ca=la,da=(a("6f9c"),Object(m["a"])(ca,oa,na,!1,null,null,null)),ua=da.exports,pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info-header"},[a("poka-cover",{staticStyle:{margin:"8px auto","margin-bottom":"8px",display:"block"},attrs:{cover:t.cover,name:t.title,size:"240px"}}),a("div",{staticClass:"info-title",attrs:{title:t.title}},[t._v(t._s(t.title))]),a("div",{staticClass:"metadatas"},[t.subtitle?a("span",{staticClass:"meta"},[t._v(t._s(t.subtitle))]):t._e(),t.songs?a("span",{key:t.songs,staticClass:"meta"},[t._v(t._s(t.$t("album_total",{songs:t.songs})))]):t._e()]),a("div",{staticClass:"actions"},[t._t("default")],2)],1)},ha=[],ma={name:"info-header",props:{cover:String,title:String,subtitle:String,songs:{default:0}}},va=ma,ga=(a("b966"),Object(m["a"])(va,pa,ha,!1,null,"754110fe",null)),_a=ga.exports,ya=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{ref:"card",staticClass:"card",attrs:{"data-source":t.parsed_source},on:{click:t.handleClick}},[a("div",{staticClass:"image"},[a("poka-cover",{attrs:{cover:t.parsed_pokaBg,name:t.pokaTitle,"hide-shadow":""}}),t.pokaIcon?a("div",{staticClass:"icon"},[a("v-icon",{staticClass:"bx"},[t._v(t._s(t.pokaIcon))])],1):t._e()],1),a("div",{staticClass:"poka-card-title",class:{"t-ellipsis":t.ellipsis},domProps:{textContent:t._s(t.pokaTitle)}}),a("div",{staticClass:"poka-card-subtitle",class:{"t-ellipsis":t.ellipsis},domProps:{textContent:t._s(t.pokaSubtitle)}})])},fa=[];const ba=a("92b2");var wa={name:"poka-card",props:{pokaBg:{default:null},ellipsis:{default:!0},source:{type:String,default:null},pokaTitle:String,pokaSubtitle:String,to:{type:String,default:null},pokaIcon:{type:String},fn:{type:Function,default:null}},data:()=>({parsed_source:null,parsed_pokaBg:null}),created(){"Netease2"==this.source?this.parsed_source=i18n.t("moduleShowName_Netease"):"DSM"==this.source?this.parsed_source=i18n.t("moduleShowName_DSM"):this.parsed_source=this.source,"string"===typeof this.pokaBg&&this.pokaBg.startsWith("http")?this.parsed_pokaBg=this.pokaBg:this.pokaBg?this.parsed_pokaBg=_setting("server")+this.pokaBg:this.parsed_pokaBg=ba.generate(this.pokaTitle,{baseColor:"#fc0"}).toDataUri()},methods:{async handleClick(){this.to&&this.$router.push(this.to),this.fn&&this.$emit("click",fn)}}},ka=wa,xa=Object(m["a"])(ka,ya,fa,!1,null,null,null),Ca=xa.exports;g()(xa,{VIcon:T["a"]});var Sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"poka cards"},[t._t("default")],2)},Pa=[],$a={name:"poka-cards"},Ta=$a,Da=(a("a5da"),Object(m["a"])(Ta,Sa,Pa,!1,null,null,null)),Va=Da.exports,La=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ua=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"poka-loader"},[a("i",{staticClass:"bx bx-loader bx-spin bx-md"})])}],Ia={name:"poka-loader",props:{color:{type:String,default:"primary"}}},Aa=Ia,Na=(a("1cfd"),Object(m["a"])(Aa,La,Ua,!1,null,"abf68740",null)),Ra=Na.exports,Ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.length>1,expression:"length > 1"}],ref:"pagination",staticClass:"poka-pagination"},[a("div",{staticClass:"poka-pagination-item",class:{disabled:1==t.value},on:{click:function(e){return t.switchPage(t.value-1)}}},[a("v-icon",{staticClass:"bx"},[t._v("bx-chevron-left")])],1),t._l(t.pages,(function(e,i){return a("div",{key:i,staticClass:"poka-pagination-item",class:{active:t.value==e,disabled:"..."==e},on:{click:function(a){return t.switchPage(e)}}},[t._v(t._s(e))])})),a("div",{staticClass:"poka-pagination-item",class:{disabled:t.value==t.length},on:{click:function(e){return t.switchPage(t.value+1)}}},[a("v-icon",{staticClass:"bx"},[t._v("bx-chevron-right")])],1)],2)},Ea=[],Fa={name:"poka-pagination",props:{value:{type:Number},length:{type:Number}},data:()=>({pages:[]}),created(){this.updatePages()},methods:{switchPage(t){if("..."!=t&&t!=this.value){this.$emit("input",t);const e=this.$refs.pagination.parentElement.offsetTop-16;document.querySelector("main").scrollTo({top:e,behavior:"smooth"}),this.$nextTick(()=>{this.updatePages()})}},updatePages(){if(this.length>7){function t(t,e){return[...Array(e).keys()].splice(t)}let e=this.value-1,a=this.value+2;e<=3?this.pages=[...t(1,a-e+3),"...",this.length]:a>=this.length-1?this.pages=[1,"...",...t(e+(this.length-a)-1,this.length+1)]:this.pages=[1,"...",...t(e,a),"...",this.length]}else this.pages=[...Array(this.length).keys()].map(t=>t+1)}}},Oa=Fa,Ma=(a("7d8e"),Object(m["a"])(Oa,Ba,Ea,!1,null,null,null)),ja=Ma.exports;g()(Ma,{VIcon:T["a"]});var qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.checkUpadteStatus?a("div",{key:"0",staticClass:"update-notify"},[a("h1",[t._v(t._s(t.$t("settings.update.title")))]),a("p",[t._v(t._s(t.checkUpadteStatus))]),a("v-btn",{attrs:{outlined:"",to:"/admin/system?update=true",color:"white",dark:""}},[t._v(t._s(t.$t("settings.update.go2UpdatePage")))])],1):t._e()},za=[],Ha={name:"poka-update",created(){this.axios.get(_setting("server")+"/status/").then(t=>t.data).then(t=>{let e="admin"==JSON.parse(sessionStorage.getItem("login")).role||!1;t.debug&&(this.debug=t.debug),e&&this.fetchNewVersion(t.version,e)})},data:()=>({checkUpadteStatus:null,debug:null}),methods:{compareVersion(t,e){return t=t.split(".").map(t=>parseInt(t)),e=e.split(".").map(t=>parseInt(t)),e[0]>t[0]||(e[1]>t[1]||e[2]>t[2])},async fetchNewVersion(t,e){let a="poka-github-check-"+(new Date).toJSON().slice(0,10).replace(/-/g,"/"),i=JSON.parse(sessionStorage[a]||null);i||(i=await fetch("https://api.github.com/repos/gnehs/PokaPlayer/releases").then(t=>t.json()).then(t=>(sessionStorage[a]=JSON.stringify(t),t)).catch(t=>console.error(t))),(this.compareVersion(t,i[0].tag_name)||this.debug)&&(this.checkUpadteStatus=i18n.t("settings.update.canUpdate2",{version:i[0].tag_name}),this.debug&&(this.checkUpadteStatus+=` (debug: ${this.debug})`))}}},Qa=Ha,Ga=(a("2d9e"),Object(m["a"])(Qa,qa,za,!1,null,"7f298e46",null)),Ya=Ga.exports;g()(Ga,{VBtn:$["a"]});var Ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showNotify?a("div",{key:"review",staticClass:"review-notify"},[a("h1",[t._v(t._s(t.$t("review.notify.title")))]),a("p",[t._v(t._s(t.$t("review.notify.description")))]),a("v-btn",{attrs:{outlined:"",to:"/review",color:"white",dark:""}},[t._v(t._s(t.$t("review.notify.go")))])],1):t._e()},Wa=[],Ka={name:"poka-review",created(){let t=new Date;11==t.getMonth()&&t.getDate()>25&&(this.showNotify=!0)},data:()=>({showNotify:!1}),methods:{}},Xa=Ka,Za=(a("d515"),Object(m["a"])(Xa,Ja,Wa,!1,null,"50168e3b",null)),ti=Za.exports;g()(Za,{VBtn:$["a"]});var ei=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("v-slide-x-reverse-transition",[a("form",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],style:{width:t.$vuetify.breakpoint.mdAndUp?"380px":"100%"},on:{submit:function(e){return e.preventDefault(),t.search.apply(null,arguments)}}},[a("v-text-field",{attrs:{placeholder:t.$t("search")+"…",autofocus:"",solo:"",flat:"","background-color":"rgba(0,0,0,.1)","hide-details":"","append-icon":"mdi-magnify"},on:{"click:append":t.search},model:{value:t.seachBarVal,callback:function(e){t.seachBarVal=e},expression:"seachBarVal"}})],1)]),a("v-btn",{attrs:{icon:""},on:{click:t.toggleSearchbar}},[a("v-icon",{staticClass:"anicons",style:{"font-variation-settings":t.value?"'TIME' 100":""}},[t._v("7")])],1)],1)},ai=[],ii={name:"poka-searchbar",props:{value:{type:Boolean,default:!1}},data:()=>({seachBarVal:null}),methods:{search(){""!=this.seachBarVal&&this.$router.push("/search?keyword="+encodeURIComponent(this.seachBarVal))},toggleSearchbar(){this.value=!this.value,this.$emit("input",this.value),this.seachBarVal=""}}},si=ii,ri=Object(m["a"])(si,ei,ai,!1,null,null,null),oi=ri.exports;g()(ri,{VBtn:$["a"],VIcon:T["a"],VSlideXReverseTransition:J["f"],VTextField:Ft["a"]});var ni=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bottom-player"},[a("div",{staticClass:"app-progress-bar"},[a("v-slider",{attrs:{min:"0",max:"100",step:"0.000001","hide-details":""},on:{change:t.audio_seek},model:{value:t.audio_currentTimePercent,callback:function(e){t.audio_currentTimePercent=e},expression:"audio_currentTimePercent"}})],1),a("div",{directives:[{name:"touch",rawName:"v-touch",value:{up:function(){return t.$router.push("/fullscreen")}},expression:"{\n      up: () => $router.push('/fullscreen')\n    }"}],staticClass:"song-info"},[a("div",{staticClass:"left"},[a("div",{staticClass:"cover"},[a("v-fade-transition",{attrs:{mode:"out-in"}},[a("img",{key:t.audio_cover,attrs:{src:t.audio_cover}})])],1),a("div",{staticClass:"song-title",on:{click:function(e){return t.$router.push("/fullscreen")}}},[a("div",{staticClass:"song-name"},[t._v(t._s(t.audio_title))]),a("div",{staticClass:"song-artist"},[t._v(" "+t._s(t.audio_artist||t.$t("app_waitForPlay"))+" ")])])]),a("div",{staticClass:"center"},[a("span",{staticClass:"time"},[t._v(t._s(t.audio_currentTime))]),a("v-btn",{attrs:{icon:""},on:{click:t.audio_previous}},[a("v-icon",{staticClass:"bx"},[t._v("bx-skip-previous")])],1),a("v-btn",{attrs:{small:"",fab:"",depressed:"",color:"primary"},on:{click:t.audio_toggle}},[a("v-icon",{staticClass:"anicons",style:{"font-variation-settings":t.audio_paused?"":"'TIME' 100"}},[t._v("H")])],1),a("v-btn",{attrs:{icon:""},on:{click:t.audio_next}},[a("v-icon",{staticClass:"bx"},[t._v("bx-skip-next")])],1),a("span",{staticClass:"time"},[t._v(t._s(t.audio_totalTime))])],1),t.audio_artist?a("div",{staticClass:"right"},[a("div",{style:"display: flex;padding: 20px 0;min-width: 160px;justify-content: flex-end;",on:{mouseover:function(e){t.audio_volume_hover=!0},mouseleave:function(e){t.audio_volume_hover=!1}}},[a("v-fade-transition",[a("v-slider",{directives:[{name:"show",rawName:"v-show",value:t.audio_volume_hover,expression:"audio_volume_hover"}],attrs:{"hide-details":"","thumb-label":""},model:{value:t.audio_volume,callback:function(e){t.audio_volume=e},expression:"audio_volume"}})],1),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.audio_volume?t.audio_volume=0:t.audio_volume=100}}},[0==t.audio_volume?a("v-icon",{staticClass:"bx"},[t._v("bx-volume-mute")]):t.audio_volume<50?a("v-icon",{staticClass:"bx"},[t._v("bx-volume-low")]):a("v-icon",{staticClass:"bx"},[t._v("bx-volume-full")])],1)],1),a("v-btn",{attrs:{icon:""},on:{click:t.switch_audio_order}},["list"===t.audio_order?a("v-icon",{staticClass:"bx"},[t._v("bx-sync")]):a("v-icon",{staticClass:"bx"},[t._v("bx-shuffle")])],1),a("v-btn",{attrs:{icon:"",to:"/fullscreen"}},[a("v-icon",{staticClass:"bx"},[t._v("bx-up-arrow")])],1)],1):a("div",{staticClass:"right"},[a("play-random-button")],1),t.audio_artist?a("div",{staticClass:"right-s"},[a("v-btn",{attrs:{icon:""},on:{click:t.audio_previous}},[a("v-icon",{staticClass:"bx"},[t._v("bx-skip-previous")])],1),a("v-btn",{attrs:{small:"",fab:"",depressed:"",color:"primary"},on:{click:t.audio_toggle}},[a("v-icon",{staticClass:"anicons",style:{"font-variation-settings":t.audio_paused?"":"'TIME' 100"}},[t._v("H")])],1),a("v-btn",{attrs:{icon:""},on:{click:t.audio_next}},[a("v-icon",{staticClass:"bx"},[t._v("bx-skip-next")])],1)],1):a("div",{staticClass:"right-s"},[a("play-random-button")],1)]),a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition"},model:{value:t.fullscreen,callback:function(e){t.fullscreen=e},expression:"fullscreen"}},[t.fullscreen?a("div",{staticClass:"fullscreen-player"},[a("v-fade-transition",[a("div",{key:t.audio_cover,staticClass:"fullscreen-player-background",style:{backgroundImage:"url('"+t.audio_cover+"')"}})]),a("div",{staticClass:"fullscreen-player-content"},[t.$vuetify.breakpoint.mdAndUp?a("player-player"):t._e(),a("div",{staticClass:"player-content",style:{overflow:"player"==t.nav_active?"initial":"hidden"}},[a("div",{directives:[{name:"touch",rawName:"v-touch",value:{down:function(){return t.$router.go(-1)}},expression:"{\n              down: () => $router.go(-1)\n            }"}],staticClass:"nav"},[a("div",{staticClass:"nav-items"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.$vuetify.breakpoint.mdAndUp,expression:"!$vuetify.breakpoint.mdAndUp"}],staticClass:"nav-item",class:{active:"player"==t.nav_active},on:{click:function(e){t.nav_active="player"}}},[t._v(" Player ")]),a("div",{staticClass:"nav-item",class:{active:"playlist"==t.nav_active},on:{click:function(e){t.nav_active="playlist"}}},[t._v("Playlist")]),a("div",{staticClass:"nav-item",class:{active:"lyric"==t.nav_active},on:{click:function(e){t.nav_active="lyric"}}},[t._v("Lyric")])]),a("portal-target",{attrs:{name:"fullscreen-player-action",slim:""}},[a("div",{staticClass:"action"})])],1),"player"==t.nav_active?a("player-player",{directives:[{name:"touch",rawName:"v-touch",value:{left:function(){return t.nav_active="playlist"}},expression:"{\n              left: () => (nav_active = 'playlist')\n            }"}],staticClass:"player-list"}):t._e(),"playlist"==t.nav_active?a("player-playlist",{directives:[{name:"touch",rawName:"v-touch",value:{left:function(){return t.nav_active="lyric"},right:function(){return t.nav_active="player"}},expression:"{\n              left: () => (nav_active = 'lyric'),\n              right: () => (nav_active = 'player')\n            }"}],staticClass:"player-list"}):t._e(),"lyric"==t.nav_active?a("player-lyric",{directives:[{name:"touch",rawName:"v-touch",value:{right:function(){return t.nav_active="playlist"}},expression:"{\n              right: () => (nav_active = 'playlist')\n            }"}],staticClass:"player-list"}):t._e()],1)],1)],1):t._e()])],1)},li=[],ci={name:"buttom-player",data(){return{audio_interval:null,audio_currentTimePercent:100,audio_bufferPercent:100,audio_currentTime:"0:00",audio_totalTime:"0:00",audio_paused:!0,audio_recored:!1,audio_cover:_setting("headerBgSource"),audio_title:"PokaPlayer",audio_artist:null,audio_order:_player.options.order,audio_volume:100,audio_volume_hover:!1,nav_active:"playlist",fullscreen:"/fullscreen"==this.$route.path}},watch:{audio_volume(t){_player.volume(t/100,!0)},"$route.path":function(t,e){this.fullscreen="/fullscreen"==this.$route.path}},destroyed(){this.audio_interval&&clearInterval(this.audio_interval)},created(){if("mediaSession"in navigator){navigator.mediaSession.setActionHandler("play",()=>{_player.toggle(),navigator.mediaSession.playbackState="playing"}),navigator.mediaSession.setActionHandler("pause",()=>{_player.pause(),navigator.mediaSession.playbackState="paused"}),navigator.mediaSession.setActionHandler("previoustrack",()=>_player.skipBack()),navigator.mediaSession.setActionHandler("nexttrack",()=>_player.skipForward());try{navigator.mediaSession.setActionHandler("seekto",t=>{console.log("seek to",t.seekTime),_player.seek(t.seekTime),"setPositionState"in navigator.mediaSession&&navigator.mediaSession.setPositionState({duration:_player.audio.duration||0,playbackRate:1,position:_player.audio.currentTime||0})})}catch(t){console.warn('Warning! The "seekto" media session action is not supported.')}}this.audio_interval=setInterval(()=>{let t=_player.audio.currentTime||0,e=_player.audio.duration||0;if(this.audio_paused=_player.paused,this.audio_order=_player.options.order,_player.list.audios.length>0){let{name:a,artist:i,album:s,cover:r}=_player.list.audios[_player.list.index];this.audio_title!=a&&(this.audio_recored=!1,"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:a,artist:i,album:s,artwork:[{src:r}]})));let o=_player.audio.buffered,n=t>1?o.end(o.length-1)/e*100:0,l=t/e*100;this.audio_currentTimePercent=l,this.audio_bufferPercent=n,this.audio_title=a,this.audio_artist=i,this.audio_cover=r,this.audio_currentTime=this.secondToTime(t),this.audio_totalTime=this.secondToTime(e),e&&t+10>e&&!this.audio_recored&&window._setting("dataRecord")&&(this.audio_recored=!0,this.axios.post(_setting("server")+"/pokaapi/v2/record/add",_player.list.audios[_player.list.index]))}else this.audio_currentTime="0:00",this.audio_totalTime="0:00",this.audio_currentTimePercent=100,this.audio_bufferPercent=100,this.audio_title="PokaPlayer",this.audio_artist=null,this.audio_recored=!1,this.audio_cover=_setting("headerBgSource"),"mediaSession"in navigator&&(console.log("[mediaSession] metadata cleared."),navigator.mediaSession.metadata=null)},400)},methods:{secondToTime(t){let e=Math.floor(t/60),a=Math.floor(t%60);return a=a<10?"0"+a:a,e+":"+a},audio_toggle(){_player.list.audios.length>0?(_player.toggle(),this.audio_paused=_player.paused):this.$randomPlay()},audio_next(){_player.skipForward(),_player.play()},audio_previous(){_player.skipBack(),_player.play()},audio_seek(){_player.seek(this.audio_currentTimePercent/100*_player.audio.duration)},switch_audio_order(){_player.options.order="random"===_player.options.order?"list":"random",this.audio_order=_player.options.order}}},di=ci,ui=(a("e14e"),a("eaf7"),a("ba0d")),pi=a("c3f0"),hi=Object(m["a"])(di,ni,li,!1,null,"0d75d66e",null),mi=hi.exports;g()(hi,{VBtn:$["a"],VDialog:Bt["a"],VFadeTransition:J["d"],VIcon:T["a"],VSlider:ui["a"]}),Mt()(hi,{Touch:pi["a"]});var vi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{theme:t.lyric_theme}},[a("portal",{attrs:{to:"fullscreen-player-action"}},[a("div",{staticClass:"action"},[a("v-btn",{attrs:{dark:"",icon:""},on:{click:t.editLyric}},[a("v-icon",{staticClass:"bx"},[t._v("bx-edit")])],1),a("v-btn",{attrs:{dark:"",icon:""},on:{click:function(e){t.lyric_theme_dialog=!0}}},[a("v-icon",{staticClass:"bx"},[t._v("bx-palette")])],1),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.mdAndUp,expression:"$vuetify.breakpoint.mdAndUp"}],attrs:{icon:"",dark:"",large:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{staticClass:"bx"},[t._v("bx-chevron-down")])],1)],1)]),a("div",{on:{dblclick:t.openLyricDialog}},[t.lyric.length>1?a("div",{key:"lyric",staticClass:"lyric",class:{lyricTranslated:t.lyricTranslated}},[a("div",{staticStyle:{height:"200px"}}),t._l(t.lyric,(function(e,i){return a("p",{key:i,class:{focus:i==t.lyricFocus,tl:!!t.lyricTranslated&&Math.floor((i-t.lyricFocus)/2)!=Math.round((i-t.lyricFocus)/2)},attrs:{"data-lyric-set":t.lyricTranslated?Math.floor((i-t.lyricFocus)/2):i-t.lyricFocus}},[a("span",[t._v(t._s(e.text))])])})),a("div",{staticStyle:{height:"200px"}})],2):t.lyricSearching?a("poka-loader",{staticStyle:{"margin-top":"30vh !important"},attrs:{color:"#fff"}}):a("div",{staticClass:"text-center",staticStyle:{"margin-top":"30vh"}},[a("v-icon",{staticClass:"bx bx-lg mb-2",attrs:{dark:""}},[t._v("bx-captions")]),a("p",{staticClass:"headline"},[t._v(t._s(t.$t("lrc_noLyrics")))]),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.showLyricDialog=!0}}},[t._v(t._s(t.$t("lrc_search")))])],1)],1),t.lyric_save_toast?a("v-card",{staticClass:"save-current-lyric mx-auto blur-card",attrs:{"max-width":"400"}},[a("v-card-title",[t._v("歌詞正確嗎？")]),a("v-card-text",[t._v("按下「儲存」讓下次也會載入相同的歌詞。")]),a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:function(e){t.lyric_save_toast=!1}}},[t._v("取消")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.saveCurrentLyric}},[t._v("儲存")])],1)],1):t._e(),a("v-dialog",{attrs:{"max-width":"420"},model:{value:t.showLyricDialog,callback:function(e){t.showLyricDialog=e},expression:"showLyricDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("lrc_search")))]),a("v-card-text",{staticStyle:{"padding-bottom":"0"}},[a("v-text-field",{attrs:{label:t.$t("lrc_search"),name:"searchLyric",disabled:t.lyricSearching,solo:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getLyricByKeyword()},change:function(e){return t.getLyricByKeyword()}},model:{value:t.lyricSearchkeyword,callback:function(e){t.lyricSearchkeyword="string"===typeof e?e.trim():e},expression:"lyricSearchkeyword"}}),a("p",{staticStyle:{"margin-top":"-22px"}},[a("small",[t._v(t._s(t.$t("lrc_enter2search")))])])],1),a("v-divider"),a("v-card-text",{staticStyle:{"max-height":"400px",overflow:"scroll","overflow-x":"hidden"}},[a("div",{staticClass:"poka list",staticStyle:{width:"372px"}},[a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){t.loadLrc("[00:00.000]",!0),t.showLyricDialog=!1}}},[a("div",{staticClass:"content"},[a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("lrc_notLoad")))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t("lrc_notLoad_description")))])])])])]),!t.lyricSearching&&t.lyricSearchResult?a("div",{staticClass:"poka list",staticStyle:{width:"100%"}},t._l(t.lyricSearchResult,(function(e,i){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:i,staticClass:"item",on:{click:function(a){t.loadLrc(e.lyric,!0),t.showLyricDialog=!1}}},[a("div",{staticClass:"content"},[a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(e.name))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(e.artist)+" ("+t._s(t.$t("source."+e.source))+")")])])])])})),0):t.lyricSearching?a("poka-loader"):a("div",{staticStyle:{"text-align":"center",padding:"40px 0"}},[a("v-btn",{attrs:{color:"primary"},on:{click:t.dialogSearch}},[t._v(t._s(t.$t("search")))])],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.showLyricDialog=!1}}},[t._v(t._s(t.$t("cancel")))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.lyric_theme_dialog,callback:function(e){t.lyric_theme_dialog=e},expression:"lyric_theme_dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("settings.interface.customize.lyric._")))]),a("v-card-text",[a("div",{staticClass:"poka list"},[a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){return t.setLyricTheme("bigtext")}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",{staticClass:"bx"},[t._v("bx-palette")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head"},[t._v("Big text")])])],1)]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){return t.setLyricTheme("default")}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",{staticClass:"bx"},[t._v("bx-palette")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head"},[t._v("Default")])])],1)]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){return t.setLyricTheme("spacing")}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",{staticClass:"bx"},[t._v("bx-palette")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head"},[t._v("Spacing")])])],1)]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){return t.setLyricTheme("underline")}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",{staticClass:"bx"},[t._v("bx-palette")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head"},[t._v("Underline")])])],1)])])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.lyric_theme_dialog=!1}}},[t._v(t._s(t.$t("cancel")))])],1)],1)],1)],1)},gi=[],_i={name:"player-lyric",data:()=>({audio_title:null,audio_artist:null,audio_cover:null,showLyricDialog:!1,lyric_theme_dialog:!1,lyric:[],lyric_raw:null,lyricFocus:0,lyricSearching:!0,lyricSearchResult:null,lyricTranslated:!1,lyricSearchkeyword:null,Lyric_Update:null,lyric_color:null,lyric_shadow_color:null,lyric_theme:_setting("lyricTheme"),lyric_save_toast:!1}),created(){this.updateLyric(),this.startUpdateLyric()},destroyed(){this.stopUpdateLyric()},methods:{editLyric(){window.localStorage["lrc_temp"]=this.lyric_raw,this.$router.push("/lyric/edit")},startUpdateLyric(){this.Lyric_Update=setInterval(()=>this.updateLyric(),300)},stopUpdateLyric(){this.Lyric_Update&&clearInterval(this.Lyric_Update)},openLyricDialog(){this.showLyricDialog=!0,this.lyricSearchkeyword=this.audio_title+" "+this.audio_artist},dialogSearch(){this.getLyricByKeyword(this.lyricSearchkeyword,!1)},focusLyric(){this.$nextTick(()=>{let t=document.querySelector('.lyric [data-lyric-set="0"].focus');t?t.scrollIntoView({behavior:"smooth",block:"center"}):this.lyricFocus=0})},updateLyric(){let t=_player.list.audios[_player.list.index];if(_player.list.audios.length>0){if(this.audio_title!=t.name)window._lrc.load("[00:00.000]"),this.lyric=window._lrc.getLyrics(),this.lyricFocus=0,this.lyric_save_toast=!1,this.lyricSearching=!0,this.lyricSearchResult=null,this.lyricSearchkeyword=t.name+" "+t.artist,this.getLyric(t.name,t.artist,t.id,t.source),this.audio_title=t.name,this.audio_artist=t.artist,this.audio_cover=t.cover;else if(this.lyric.length>1){let t=window._lrc.select(_player.audio.currentTime);this.lyricFocus!=t&&(this.lyricFocus=t,this.focusLyric())}}else this.noloadedLyric=!0,this.lyricSearching=!1},getLyric(t,e,a=!1,i){let s,r=/\[([0-9.:]*)\]/i;a?(s=_setting("server")+`/pokaapi/lyric/?moduleName=${encodeURIComponent(i)}&id=${encodeURIComponent(a)}&time=${(new Date).getTime()}`,this.axios(s).then(e=>{e.data.lyrics.length&&e.data.lyrics[0].lyric.match(r)?t==this.audio_title&&this.loadLrc(e.data.lyrics[0].lyric):this.getLyricByKeyword(this.lyricSearchkeyword)})):this.getLyricByKeyword(this.lyricSearchkeyword)},getLyricByKeyword(t,e=!0){t||(t=this.lyricSearchkeyword),this.lyricSearching=!0,this.axios(_setting("server")+"/pokaapi/searchLyrics/?keyword="+encodeURIComponent(t)).then(t=>t.data).then(e=>{e.lyrics.length>0&&t==this.lyricSearchkeyword&&(this.loadLrc(e.lyrics[0].lyric),this.lyric_save_toast=!0,this.lyricSearchResult=e.lyrics),this.lyricSearching=!1})},loadLrc(t,e=!1){this.lyric_save_toast=!1;try{window._lrc.load(t)}catch(a){return window._lrc.load("[00:00.000]"),this.$snackbar("Cannot load this plain text lyric.")}this.lyric=window._lrc.getLyrics(),this.lyric_raw=t,this.lyricFocus=0;try{window._lrc.lyrics_all[window._lrc.lyrics_all.length-2].timestamp==window._lrc.lyrics_all[window._lrc.lyrics_all.length-1].timestamp?(window._lrc.lyrics_all[window._lrc.lyrics_all.length-2].timestamp+=100,this.lyricTranslated=!0,window._lrc.lyrics_all=window._lrc.lyrics_all.sort((t,e)=>t.timestamp-e.timestamp)):this.lyricTranslated=!1}catch(a){this.lyricTranslated=!1}if(this.lyricSearching=!1,e){let e=_player.list.audios[_player.list.index];this.axios.post(_setting("server")+"/pokaapi/lyric",{title:e.name,artist:e.artist,songId:e.id,source:e.source,lyric:t}),this.$snackbar(this.$t("lrc_saved"))}this.updateLyric()},setLyricTheme(t){window._setting("lyricTheme",t),this.lyric_theme_dialog=!1,this.lyric_theme=t,this.axios({method:"post",url:_setting("server")+"/pokaapi/v2/user/setting/",data:{n:{lyricTheme:t}}})},saveCurrentLyric(){this.loadLrc(this.lyric_raw,!0)}}},yi=_i,fi=(a("cd60"),Object(m["a"])(yi,vi,gi,!1,null,"252c61f5",null)),bi=fi.exports;g()(fi,{VAvatar:At["a"],VBtn:$["a"],VCard:Nt["a"],VCardActions:Rt["a"],VCardText:Rt["b"],VCardTitle:Rt["c"],VDialog:Bt["a"],VDivider:it["a"],VIcon:T["a"],VSpacer:N["a"],VTextField:Ft["a"]}),Mt()(fi,{Ripple:jt["a"]});var wi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"theme--dark"},[a("portal",{attrs:{to:"fullscreen-player-action"}},[a("div",{staticClass:"action"},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:t.audio_clean}},[a("v-icon",{staticClass:"bx"},[t._v("bx-menu-alt-right")])],1),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.mdAndUp,expression:"$vuetify.breakpoint.mdAndUp"}],attrs:{icon:"",dark:"",large:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{staticClass:"bx"},[t._v("bx-chevron-down")])],1)],1)]),t.audio_queue.length?a("poka-parse-songs",{attrs:{data:t.audio_queue,"now-playing":"","active-index":t.audio_index},scopedSlots:t._u([{key:"default",fn:function(e){return[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.isSafari,expression:"isSafari"}],attrs:{icon:"",dark:""},on:{click:function(t){return t.stopPropagation(),e.moreDialog(e.song)}}},[a("v-icon",{staticClass:"bx"},[t._v("bx-dots-vertical-rounded")])],1),a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(a){return a.stopPropagation(),t.removeSong(e.index)}}},[a("v-icon",{staticClass:"bx"},[t._v("bx-x")])],1)]}}],null,!1,3359487241)}):t._e(),t.audio_queue.length?t._e():a("div",{staticStyle:{"margin-top":"30vh","text-align":"center"}},[a("v-icon",{staticClass:"bx bx-lg mb-2",attrs:{dark:""}},[t._v("bxs-playlist")]),a("p",{staticClass:"headline"},[t._v(t._s(t.$t("app_waitForPlay")))]),a("p",[t._v(t._s(t.$t("app_waitForPlay_description")))]),a("play-random-button")],1)],1)},ki=[],xi={name:"player-playlist",data:()=>({audio_queue:null,audio_order:_player.options.order,audio_index:-1,updateInterval:null,bgSlideAnimation:"slide-left",isSafari:/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)}),created(){this.updatePlayer(),this.startUpdatePlayer(),this.focusActive()},destroyed(){this.stopUpdatePlayer()},methods:{startUpdatePlayer(){this.updateInterval=setInterval(()=>this.updatePlayer(),400)},stopUpdatePlayer(){this.updateInterval&&clearInterval(this.updateInterval)},updatePlayer(){this.audio_queue=_player.list.audios,this.audio_index!=_player.list.index&&(this.audio_index=_player.list.index,this.audio_order=_player.options.order,this.focusActive())},focusActive(){this.$nextTick(()=>{let t=document.querySelector(".poka.list .item.active");t&&t.scrollIntoView({behavior:"smooth",block:"center"})})},removeSong(t){_player.list.remove(t),this.updatePlayer()},audio_clean(){_player.list.clear()},switch_audio_order(){_player.options.order="random"===_player.options.order?"list":"random",this.audio_order=_player.options.order}}},Ci=xi,Si=Object(m["a"])(Ci,wi,ki,!1,null,null,null),Pi=Si.exports;g()(Si,{VBtn:$["a"],VIcon:T["a"]});var $i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"player"},[a("portal",{attrs:{to:"fullscreen-player-action"}},[a("div",{staticClass:"action"},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.mdAndUp,expression:"$vuetify.breakpoint.mdAndUp"}],attrs:{icon:"",dark:"",large:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v("expand_more")])],1)],1)]),a("div",{staticClass:"player-cover"},[a("v-fade-transition",{attrs:{mode:"out-in"}},[a("poka-cover",{key:t.audio_cover,attrs:{cover:t.audio_cover,size:"var(--size)"}})],1)],1),a("div",{staticClass:"player-title"},[t._v(t._s(t.audio_title))]),a("div",{staticClass:"player-artist"},[t._v(" "+t._s(t.audio_artist||t.$t("app_waitForPlay"))+" ")]),a("v-slider",{attrs:{color:"#fff",min:"0",max:"100",step:"0.001","hide-details":""},on:{change:t.audio_seek},model:{value:t.audio_currentTimePercent,callback:function(e){t.audio_currentTimePercent=e},expression:"audio_currentTimePercent"}}),a("div",{staticClass:"player-duration"},[a("div",{staticClass:"time"},[t._v(t._s(t.audio_currentTime))]),a("div",{staticClass:"time"},[t._v(t._s(t.audio_totalTime))])]),a("div",{staticClass:"player-control"},[a("v-btn",{attrs:{icon:"",dark:"",large:""},on:{click:t.switch_audio_order}},["list"===t.audio_order?a("v-icon",{staticClass:"bx"},[t._v("bx-sync")]):a("v-icon",{staticClass:"bx"},[t._v("bx-shuffle")])],1),a("v-btn",{attrs:{icon:"",dark:"",large:""},on:{click:t.audio_previous}},[a("v-icon",{staticClass:"bx"},[t._v("bx-skip-previous")])],1),a("v-btn",{attrs:{dark:"",color:"white",elevation:"2",outlined:"",fab:""},on:{click:t.audio_toggle}},[a("v-icon",{staticClass:"anicons",style:{"font-variation-settings":t.audio_paused?"":"'TIME' 100"}},[t._v("H")])],1),a("v-btn",{attrs:{icon:"",dark:"",large:""},on:{click:t.audio_next}},[a("v-icon",{staticClass:"bx"},[t._v("bx-skip-next")])],1),a("v-btn",{attrs:{icon:"",dark:"",large:"",disabled:""}},[a("v-icon",{staticClass:"bx"},[t._v("bx-list-plus")])],1)],1)],1)},Ti=[],Di={name:"player-player",data:()=>({audio_currentTimePercent:100,audio_bufferPercent:100,audio_currentTime:"0:00",audio_totalTime:"0:00",audio_paused:!0,audio_cover:_setting("headerBgSource"),audio_title:"PokaPlayer",audio_artist:null,audio_order:_player.options.order,audio_volume:100,audio_volume_hover:!1}),watch:{audio_volume(t){_player.volume(t/100,!0)},"$route.path":function(t,e){this.fullscreen="/fullscreen"==this.$route.path}},destroyed(){this.audio_interval&&clearInterval(this.audio_interval)},created(){this.updatePlayer(),this.audio_interval=setInterval(()=>{this.updatePlayer()},400)},methods:{updatePlayer(){let t=_player.audio.currentTime||0,e=_player.audio.duration||0;if(this.audio_paused=_player.paused,this.audio_order=_player.options.order,_player.list.audios.length>0){let{name:a,artist:i,album:s,cover:r}=_player.list.audios[_player.list.index];this.audio_title!=a&&(this.audio_recored=!1,"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:a,artist:i,album:s,artwork:[{src:r}]})));let o=_player.audio.buffered,n=t>1?o.end(o.length-1)/e*100:0,l=t/e*100;this.audio_currentTimePercent=l,this.audio_bufferPercent=n,this.audio_title=a,this.audio_artist=i,this.audio_cover=r,this.audio_currentTime=this.secondToTime(t),this.audio_totalTime=this.secondToTime(e),e&&t+10>e&&!this.audio_recored&&window._setting("dataRecord")&&(this.audio_recored=!0,this.axios.post(_setting("server")+"/pokaapi/v2/record/add",_player.list.audios[_player.list.index]))}else this.audio_currentTime="0:00",this.audio_totalTime="0:00",this.audio_currentTimePercent=100,this.audio_bufferPercent=100,this.audio_title="PokaPlayer",this.audio_artist=null,this.audio_recored=!1,this.audio_cover=_setting("headerBgSource"),"mediaSession"in navigator&&(console.log("[mediaSession] metadata cleared."),navigator.mediaSession.metadata=null)},secondToTime(t){let e=Math.floor(t/60),a=Math.floor(t%60);return a=a<10?"0"+a:a,e+":"+a},audio_toggle(){_player.list.audios.length>0?(_player.toggle(),this.audio_paused=_player.paused):this.$randomPlay()},audio_next(){_player.skipForward(),_player.play()},audio_previous(){_player.skipBack(),_player.play()},audio_seek(){_player.seek(this.audio_currentTimePercent/100*_player.audio.duration)},switch_audio_order(){_player.options.order="random"===_player.options.order?"list":"random",this.audio_order=_player.options.order}}},Vi=Di,Li=(a("ae69"),Object(m["a"])(Vi,$i,Ti,!1,null,null,null)),Ui=Li.exports;g()(Li,{VBtn:$["a"],VFadeTransition:J["d"],VIcon:T["a"],VSlider:ui["a"]});var Ii=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-btn",{attrs:{text:!t.icon,rounded:"",large:!t.icon,icon:t.icon},on:{click:t.back}},[a("v-icon",{staticClass:"bx",class:{"mr-2":!t.icon}},[t._v("bx-arrow-back")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.icon,expression:"!icon"}]},[t._v(t._s(t.$t("back")))])],1)},Ai=[],Ni={name:"back",props:{icon:{type:Boolean,default:!1},to:{type:String}},methods:{back(){this.to?this.$router.push(this.to):this.$router.go(-1)}}},Ri=Ni,Bi=Object(m["a"])(Ri,Ii,Ai,!1,null,null,null),Ei=Bi.exports;g()(Bi,{VBtn:$["a"],VIcon:T["a"]});var Fi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-btn",{attrs:{color:"primary",disabled:t.loadingRandom,dark:t.$vuetify.theme.isDark},on:{click:t.randomPlay}},[t.loadingRandom?a("span",[t._v(t._s(t.$t("loading")))]):a("span",[t._v(t._s(t.$t("playlist_random")))])])},Oi=[],Mi={name:"play-random-button",data:()=>({loadingRandom:!1}),methods:{randomPlay(){this.loadingRandom=!0;try{this.$randomPlay()}catch{this.loadingRandom=!1}}}},ji=Mi,qi=Object(m["a"])(ji,Fi,Oi,!1,null,null,null),zi=qi.exports;g()(qi,{VBtn:$["a"]});var Hi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.isPinned&&"disabled"!=t.isPinned&&"speed-dial"==t.btnType?a("v-fab-transition",[a("v-btn",{staticStyle:{bottom:"calc(16px + 69px)"},attrs:{color:"primary",fab:"",large:"",dark:"",bottom:"",right:"",fixed:"",loading:t.loading},on:{click:t.pin}},[a("v-icon",{staticClass:"bx"},[t._v(t._s(t.isPinned?"bxs-pin":"bx-pin"))])],1)],1):null!=t.isPinned&&"disabled"!=t.isPinned&&"icon-button"==t.btnType?a("v-btn",{staticClass:"rounded-lg",attrs:{loading:t.loading,color:t.$vuetify.theme.isDark?"#FFF":"primary",outlined:""},on:{click:t.pin}},[a("v-icon",{staticClass:"bx mr-2"},[t._v(t._s(t.isPinned?"bxs-pin":"bx-pin"))]),t._v(" "+t._s(t.$t("pin"))+" ")],1):t._e()},Qi=[],Gi={name:"pin-button",created(){this.getPinStatus()},props:{source:String,type:String,id:String,name:String,cover:String,artist:{type:String,default:""},btnType:{type:String,default:"speed-dial"}},data:()=>({server:_setting("server"),isPinned:null,loading:!1}),methods:{getPinStatus(){if(this.name){this.loading=!0;let[t,e,a]=[this.source,this.id,this.type];this.axios.post("/pokaapi/v2/pin/ispinned",{source:t,id:e,name:name,type:a}).then(t=>{this.isPinned=t.data,this.loading=!1})}},pin(){this.loading=!0;let[t,e,a,i,s,r]=[this.source,this.id,this.type,this.name,this.cover,this.artist];s=s.replace(_setting("server"),""),this.axios.post("/pokaapi/v2/pin/"+(this.isPinned?"unpin":"pin"),{source:t,id:e,type:a,name:i,cover:s,artist:r}).then(t=>{this.getPinStatus()})}}},Yi=Gi,Ji=Object(m["a"])(Yi,Hi,Qi,!1,null,null,null),Wi=Ji.exports;g()(Ji,{VBtn:$["a"],VFabTransition:J["c"],VIcon:T["a"]});var Ki=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),i),[a("v-icon",{staticClass:"bx"},[t._v("bx-dots-vertical-rounded")])],1)]}}])},[a("v-list",[a("v-list-item-group",{attrs:{color:"primary"}},t._l(t.items,(function(e,i){return a("v-list-item",{key:i,attrs:{to:e.to}},[a("v-list-item-icon",[a("v-icon",{staticClass:"bx",domProps:{textContent:t._s(e.icon)}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t(e.text)))])],1)],1)})),1)],1)],1)},Xi=[],Zi={name:"menu-btn",data:()=>({items:[{icon:"bx-cog",text:"settings.title",to:"/settings"}]}),created(){this.getStatus()},methods:{async getStatus(){let t=await this.axios.get(_setting("server")+"/status/");if(!t.data.login)return this.$router.push("/login");let e=await this.axios.get(_setting("server")+"/pokaapi/v2/user/");if(sessionStorage.setItem("login",JSON.stringify(e.data)),"admin"==e.data.role){let t={icon:"bx-server",text:"settingIndex.adminItems",to:"/admin"};this.items.filter(t=>"settingIndex.adminItems"==t.text).length||this.items.push(t)}if(t.data.debug){let t={icon:"bx-bug",text:"debug",to:"/debug"};this.items.filter(t=>"debug"==t.text).length||this.items.push(t)}}}},ts=Zi,es=a("1baa"),as=a("e449"),is=Object(m["a"])(ts,Ki,Xi,!1,null,null,null),ss=is.exports;g()(is,{VBtn:$["a"],VIcon:T["a"],VList:D["a"],VListItem:V["a"],VListItemContent:L["a"],VListItemGroup:es["a"],VListItemIcon:U["a"],VListItemTitle:L["b"],VMenu:as["a"]});var rs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("poka-cards",[t._l(t.data,(function(e){var i=e.name,s=e.image,r=e.cover,o=e.id,n=e.source,l=e.type,c=e.icon;return["folder"==l?a("poka-card",{key:"/playlist/f/"+encodeURIComponent(o),attrs:{"poka-icon":c||"bx-folder",to:"/playlist/f/"+encodeURIComponent(o),"poka-title":i,"poka-subtitle":t.$t("source."+n)}}):t._e(),l&&"folder"==l?t._e():a("poka-card",{key:"/playlist/p/"+encodeURIComponent(n)+"/"+encodeURIComponent(o||"unknown"),attrs:{"poka-icon":c||"bxs-playlist",to:"/playlist/p/"+encodeURIComponent(n)+"/"+encodeURIComponent(o||"unknown"),"poka-bg":s||r||!1,"poka-title":i,"poka-subtitle":t.$t("source."+n)}})]}))],2)},os=[],ns={name:"poka-parse-playlists",props:["data"],data:()=>({server:_setting("server")})},ls=ns,cs=Object(m["a"])(ls,rs,os,!1,null,null,null),ds=cs.exports,us=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition-group",{key:"songlist",staticClass:"poka list",class:{two:!t.nowPlaying},staticStyle:{position:"relative"},attrs:{name:"songlist",tag:"div"}},t._l(t.data,(function(e,i){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.nowPlaying?e.uuid:i,staticClass:"item",class:{active:i==t.activeIndex},staticStyle:{"user-select":"none"},on:{contextmenu:function(a){return a.preventDefault(),t.moreDialog(e)},click:function(e){t.nowPlaying?t.playSong(i):t.$addSongs({songs:t.data,index:i})}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-img",{attrs:{src:e.cover?e.cover.startsWith("http")?e.cover:t.server+e.cover:t.defaultCover,alt:"cover"}})],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(e.name))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(e.artist))])])],1),a("div",{staticClass:"action"},[t._t("default",(function(){return[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.isSafari,expression:"isSafari"}],attrs:{icon:""},on:{click:function(a){return a.stopPropagation(),t.moreDialog(e)}}},[a("v-icon",{staticClass:"bx"},[t._v("bx-dots-vertical-rounded")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(a){a.stopPropagation(),t.$addSongs({songs:[e],clear:!1}),t.isInSongList.push(i)}}},[t.isInSongList.includes(i)?a("v-icon",{staticClass:"bx"},[t._v("bx-check")]):a("v-icon",{staticClass:"bx"},[t._v("bx-plus")])],1)]}),{index:i,song:e,moreDialog:t.moreDialog})],2)])})),0),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.moreDialogShow,callback:function(e){t.moreDialogShow=e},expression:"moreDialogShow"}},[a("v-card",[t.moreDialogTemp?a("div",{staticClass:"d-flex flex-column align-center moreDialog-header"},[a("poka-cover",{staticStyle:{margin:"0 auto","margin-bottom":"8px",display:"block"},attrs:{cover:t.moreDialogTemp.cover?t.moreDialogTemp.cover.startsWith("http")?t.moreDialogTemp.cover:t.server+t.moreDialogTemp.cover:t.defaultCover,size:"200px"}}),a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.moreDialogTemp.name))]),a("div",{staticClass:"artist t-ellipsis"},[t._v(t._s(t.moreDialogTemp.artist))])],1):t._e(),a("v-card-text",{staticClass:"moreDialog-content"},[t.moreDialogTemp?a("div",{staticClass:"poka list"},[a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){t.openPlaylistDialog(),t.moreDialogShow=!1}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",{staticClass:"bx",attrs:{color:"primary"}},[t._v("bx-list-plus")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head"},[t._v(t._s(t.$t("songAction_add2playlist")))])])],1),a("div",{staticClass:"action"},[a("v-btn",{attrs:{icon:""}},[a("v-icon",{staticClass:"bx"},[t._v("bx-chevron-right")])],1)],1)]),a("v-divider"),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:t.moreDialog_goto_artist}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",{staticClass:"bx",attrs:{color:"primary"}},[t._v("bx-microphone")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.moreDialogTemp.artist))]),a("div",[t._v(t._s(t.$t("artist")))])]),a("div",{staticClass:"action"},[a("v-btn",{attrs:{icon:""}},[a("v-icon",{staticClass:"bx"},[t._v("bx-chevron-right")])],1)],1)],1)]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:t.moreDialog_goto_album}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",{staticClass:"bx",attrs:{color:"primary"}},[t._v("bx-album")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.moreDialogTemp.album))]),a("div",{staticClass:"t-ellipsis"},[t.moreDialogTemp.year?a("span",[t._v(t._s(t.moreDialogTemp.year))]):a("span",[t._v(t._s(t.$t("album")))])])]),a("div",{staticClass:"action"},[a("v-btn",{attrs:{icon:""}},[a("v-icon",{staticClass:"bx"},[t._v("bx-chevron-right")])],1)],1)],1)]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item"},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",{staticClass:"bx",attrs:{color:"primary"}},[t._v("bx-server")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("source."+t.moreDialogTemp.source)))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.moreDialogTemp.id))])])],1)]),t.moreDialogTemp.codec?a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item"},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",{staticClass:"bx",attrs:{color:"primary"}},[t._v("bx-music")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.moreDialogTemp.codec.toUpperCase()))]),a("div",{staticClass:"t-ellipsis"},[t.moreDialogTemp.bitrate?a("span",[t._v(t._s(t.moreDialogTemp.bitrate/1e3)+"k")]):a("span",[t._v("Codec")])])])],1)]):t._e()],1):t._e()]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.moreDialogShow=!1}}},[t._v(t._s(t.$t("back")))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.playlistDialog,callback:function(e){t.playlistDialog=e},expression:"playlistDialog"}},[a("v-card",{attrs:{id:"playlist-dialog"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("songAction_add2playlist")))]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:t.openCreatePlaylistDialog}},[a("v-icon",{staticClass:"bx"},[t._v("bx-plus")])],1)],1),t.playlistDialogLoading?a("v-card-text",{staticStyle:{height:"300px"}},[a("poka-loader")],1):a("v-card-text",{staticStyle:{height:"300px"}},[t.playlists.length>0?a("div",{staticClass:"poka list"},t._l(t.playlists,(function(e,i){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:"item-"+i,staticClass:"item",attrs:{title:e.name},on:{click:function(a){return t.toggleSongOfPlaylist(e)}}},[a("div",{staticClass:"content"},[a("v-icon",{staticClass:"bx mx-2"},[t._v(t._s(t.existsPlaylists.includes(e._id)?"bxs-checkbox-checked":"bx-checkbox"))]),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(e.name))])])],1)])})),0):a("p",{staticStyle:{"user-select":"none",margin:"100px 0","text-align":"center"}},[t._v(t._s(t.$t("playlist_page.playlist_empty")))])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.playlistDialog=!1}}},[t._v(t._s(t.$t("done")))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.createPlaylistDialog,callback:function(e){t.createPlaylistDialog=e},expression:"createPlaylistDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("playlist_page.add_title")))]),a("v-card-text",[a("v-text-field",{attrs:{label:t.$t("playlist_page.title_input"),outlined:""},model:{value:t.createPlaylistName,callback:function(e){t.createPlaylistName=e},expression:"createPlaylistName"}})],1),a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:function(e){t.createPlaylistDialog=!1}}},[t._v(t._s(t.$t("back")))]),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.createPlaylist}},[t._v(t._s(t.$t("done")))])],1)],1)],1)],1)},ps=[],hs={name:"poka-parse-songs",props:{data:{type:Array,required:!0},nowPlaying:{type:Boolean,default:!1},activeIndex:Number},data:()=>({server:_setting("server"),defaultCover:_setting("headerBgSource"),isInSongList:[],playlistDialog:!1,playlistDialogLoading:!1,createPlaylistDialog:!1,createPlaylistName:"",moreDialogShow:!1,moreDialogTemp:null,playlists:[],existsPlaylists:[],isSafari:/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)}),methods:{async openPlaylistDialog(){this.playlistDialog=!0,this.playlistDialogLoading=!0,await this.updatePlaylistData(),this.playlistDialogLoading=!1},playSong(t){_player.list.switch(t),_player.play()},async toggleSongOfPlaylist(t){let e=this.$deepCopy(this.moreDialogTemp);e.originalURL&&(e.url=e.originalURL),e.originalCover&&(e.cover=e.originalCover),delete e.originalURL,delete e.uuid,delete e.originalCover,await this.axios.post(this.server+"/pokaapi/playlist/song",{playlistId:t._id,song:e}),await this.updatePlaylistData()},openCreatePlaylistDialog(){this.createPlaylistDialog=!0,this.createPlaylistName=""},async createPlaylist(){""!=this.createPlaylistName?(await this.axios.post(this.server+"/pokaapi/playlist/create",{name:this.createPlaylistName}),this.createPlaylistDialog=!1,await this.updatePlaylistData()):this.$snackbar(i18n.t("playlist_page.edit_empty"))},async updatePlaylistData(){let t=(await this.axios.post(this.server+"/pokaapi/playlist/song/exist",this.moreDialogTemp)).data;this.playlists=t.playlists,this.existsPlaylists=t.existsPlaylists.map(t=>t._id)},moreDialog(t){this.moreDialogTemp=t,this.moreDialogShow=!0},moreDialog_goto_album(){let t=this.moreDialogTemp;t&&t.albumId&&(this.moreDialogShow=!1,this.$nextTick(()=>{this.$router.push(`/album/songs/${encodeURIComponent(t.source)}/${encodeURIComponent(t.albumId)}`)}))},moreDialog_goto_artist(){let t=this.moreDialogTemp;t&&t.artistId&&(this.moreDialogShow=!1,this.$nextTick(()=>{this.$router.push(`/artist/${encodeURIComponent(t.source)}/${encodeURIComponent(t.artistId)}`)}))}}},ms=hs,vs=(a("33f6"),a("adda")),gs=a("71d9"),_s=Object(m["a"])(ms,us,ps,!1,null,null,null),ys=_s.exports;g()(_s,{VAvatar:At["a"],VBtn:$["a"],VCard:Nt["a"],VCardActions:Rt["a"],VCardText:Rt["b"],VCardTitle:Rt["c"],VDialog:Bt["a"],VDivider:it["a"],VIcon:T["a"],VImg:vs["a"],VSpacer:N["a"],VTextField:Ft["a"],VToolbar:gs["a"]}),Mt()(_s,{Ripple:jt["a"]});var fs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-fade-transition",[a("poka-cards",{directives:[{name:"show",rawName:"v-show",value:"card"==t.artistView,expression:"artistView == 'card'"}]},t._l(t.$pagination(t.data,t.page),(function(e){var i=e.name,s=e.cover,r=e.id,o=e.source;return a("poka-card",{key:r,attrs:{to:"/artist/"+encodeURIComponent(o)+"/"+encodeURIComponent(r||"unknown"),"poka-icon":"bx-microphone","poka-bg":s||!1,"poka-title":i||"未知","poka-subtitle":t.$t("source."+o)}})})),1)],1),a("v-fade-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:"list"==t.artistView,expression:"artistView == 'list'"}],staticClass:"poka two list"},t._l(t.$pagination(t.data,t.page),(function(e){var i=e.name,s=e.cover,r=e.id,o=e.source;return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:r,staticClass:"item",staticStyle:{"user-select":"none"},on:{click:function(e){t.$router.push("/artist/"+encodeURIComponent(o)+"/"+encodeURIComponent(r||"unknown"))}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"28px",item:""}},[a("v-img",{attrs:{src:t.coverPaser(s),alt:"cover"}})],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(" "+t._s(i||"未知")+" "),a("span",{staticStyle:{"font-size":"0.7em",opacity:"0.7","font-weight":"normal"}},[t._v(t._s(o))])])])],1)])})),0)]),a("poka-pagination",{attrs:{length:t.$getPages(t.data)},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)},bs=[],ws={name:"poka-parse-artists",props:{data:{type:Array}},data:()=>({server:_setting("server"),artistView:_setting("artistView"),page:1}),methods:{coverPaser(t){return t.startsWith("http")?t:t?_setting("server")+t:_setting("headerBgSource")}}},ks=ws,xs=Object(m["a"])(ks,fs,bs,!1,null,null,null),Cs=xs.exports;g()(xs,{VAvatar:At["a"],VFadeTransition:J["d"],VImg:vs["a"]}),Mt()(xs,{Ripple:jt["a"]});var Ss=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-cards",t._l(t.$pagination(t.data,t.page),(function(e){var i=e.name,s=e.artist,r=e.cover,o=e.id,n=e.source;return a("poka-card",{key:o,attrs:{to:"/album/songs/"+encodeURIComponent(n)+"/"+encodeURIComponent(o||"unknown")+"?cover="+encodeURIComponent(r||!1)+"&name="+encodeURIComponent(i)+"&artist="+encodeURIComponent(s),"poka-bg":r||!1,"poka-title":i,"poka-subtitle":s,"poka-icon":"bx-album",source:t.$t("source."+n)}})})),1),a("poka-pagination",{attrs:{length:t.$getPages(t.data)},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)},Ps=[],$s={name:"poka-parse-albums",props:["data"],data:()=>({server:_setting("server"),page:1})},Ts=$s,Ds=Object(m["a"])(Ts,Ss,Ps,!1,null,null,null),Vs=Ds.exports,Ls=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-fade-transition",["card"==t.composerView?a("poka-cards",t._l(t.$pagination(t.data,t.page),(function(e){var i=e.name,s=e.cover,r=e.id,o=e.source;return a("poka-card",{key:r,attrs:{to:"/composer/"+encodeURIComponent(o)+"/"+encodeURIComponent(r||"unknown"),"poka-bg":s||!1,"poka-icon":"bx-pencil","poka-title":i||"未知","poka-subtitle":t.$t("source."+o)}})})),1):t._e()],1),a("v-fade-transition",["list"==t.composerView?a("div",{staticClass:"poka two list"},t._l(t.$pagination(t.data,t.page),(function(e){var i=e.name,s=e.cover,r=e.id,o=e.source;return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:r,staticClass:"item",staticStyle:{"user-select":"none"},on:{click:function(e){t.$router.push("/composer/"+encodeURIComponent(o)+"/"+encodeURIComponent(r||"unknown"))}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"28px",item:""}},[a("v-img",{attrs:{src:t.coverPaser(s),alt:"cover"}})],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(" "+t._s(i||"未知")+" "),a("span",{staticStyle:{"font-size":"0.7em",opacity:"0.7","font-weight":"normal"}},[t._v(t._s(o))])])])],1)])})),0):t._e()]),a("poka-pagination",{attrs:{length:t.$getPages(t.data)},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)},Us=[],Is={name:"poka-parse-composers",props:{data:{type:Array}},data:()=>({server:_setting("server"),composerView:_setting("composerView"),page:1}),methods:{coverPaser(t){return t.startsWith("http")?t:t?_setting("server")+t:_setting("headerBgSource")}}},As=Is,Ns=Object(m["a"])(As,Ls,Us,!1,null,null,null),Rs=Ns.exports;g()(Ns,{VAvatar:At["a"],VFadeTransition:J["d"],VImg:vs["a"]}),Mt()(Ns,{Ripple:jt["a"]});var Bs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"poka two list"},t._l(t.data,(function(e){var i=e.name,s=e.id,r=e.source;return a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],key:s,staticClass:"item",attrs:{to:"/folder/"+encodeURIComponent(r)+"/"+encodeURIComponent(s||"unknown")}},[a("div",{staticClass:"content"},[a("v-icon",{staticClass:"bx",attrs:{color:t.$vuetify.theme.isDark?"#FFF":"primary"}},[t._v("bx-folder")]),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(i))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t("source."+r)))])])],1)])})),1)},Es=[],Fs={name:"poka-parse-folders",props:["data"],data:()=>({server:_setting("server")})},Os=Fs,Ms=(a("f819"),Object(m["a"])(Os,Bs,Es,!1,null,"20f4d099",null)),js=Ms.exports;g()(Ms,{VIcon:T["a"]}),Mt()(Ms,{Ripple:jt["a"]});var qs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._l(t.data,(function(e,i){return t._l(Object.keys(e).filter((function(t){return Array.isArray(e[t])&&e[t].length})),(function(s){return a("div",{key:i+s,staticClass:"mb-8"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t(e.title)))]),a("div",{staticClass:"caption mb-2"},[t._v(t._s(t.$t(s.substring(0,s.length-1))))]),a("poka-parse-"+s,{tag:"div",attrs:{data:e[s],"hide-fab":""}})],1)}))}))],2)},zs=[],Hs={name:"poka-parse-home",props:["data"],data:()=>({dialog:!1})},Qs=Hs,Gs=Object(m["a"])(Qs,qs,zs,!1,null,null,null),Ys=Gs.exports,Js=a("f309"),Ws=a("aa47"),Ks=a.n(Ws);c["default"].use(Js["a"]);var Xs=new Js["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#5c95c4",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},dark:{primary:"#5c95c4"}}},lang:{locales:{zhHant:Ks.a},current:"zh-Hant"}});c["default"].use(Ke.a),n.a.defaults.withCredentials=!0,n.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",c["default"].use(Xe["a"],n.a),Object.values(i).forEach(t=>c["default"].component(t.name,t));const Zs=window.matchMedia("(prefers-color-scheme: dark)");function tr(t=!1){Xs.framework.theme.isDark=t}tr(Zs.matches),Zs.addListener(t=>{const e=t.matches;tr(e)}),c["default"].config.productionTip=!1,new c["default"]({el:"#app",router:je,i18n:Ye,components:{App:b},template:"<App/>",vuetify:Xs,render:t=>t(b)})},5938:function(t,e,a){"use strict";a.r(e),e["default"]={title:"Pins management",deleteConfirm:"Are you sure want to unpin?"}},"5c64":function(t,e,a){"use strict";a("d32a")},"5d32":function(t,e,a){"use strict";a.r(e),e["default"]={notify:{title:"Your annual review",description:"Review this year's most listened songs, albums and artists",go:"Go"},page:{title:"Review",subtitle:"Your {year} year review",mostPlayedSongs:"Most listened songs",mostPlayedAlbums:"Most listened albums",mostPlayedArtists:"Most listened artists",thankYouTitle:"Thank you",thankYouDescription:"Thank you for using PokaPlayer, hope you can have more time together!"}}},"61a0":function(t,e,a){},"65b4":function(t,e,a){"use strict";a.r(e),e["default"]={title:"軟體更新",checking4updates:"正在檢查更新...",latestVersion:"您的 PokaPlayer 已是最新版本",update2:"更新至 {version}",canUpdate2:"可更新至 {version}",go2UpdatePage:"前往更新頁面",srvRestart:"伺服器重新啟動",reconnect:"重新連接",initializing:"正在初始化...",updating:"正在更新...",git_fetch:"初始化完成",git_reset:"更新檔下載完成",package_updated:"套件更新完成",dialog_note:"注意：若您未開啟 Docker 自動重啟功能，您必須手動開啟 PokaPlayer",dialog_note_dev:"開發模式更新僅顯示用於測試介面的模擬結果",dialog_view_previous:"查看先前的更新日誌",dialog_title:"{version} 更新日誌"}},"67f7":function(t,e,a){},"6f9c":function(t,e,a){"use strict";a("a653")},"74d3":function(t,e,a){"use strict";a.r(e),e["default"]={title:"隱私",description:"資料紀錄設定",notify:{title:"關於 PokaPlayer 記錄",body:"資料僅會於您的伺服器進行運算，不會被上傳至網路進行分析。 該功能可提供您更優質的使用體驗（如：年度回顧、最近播放）。 若您有疑慮可於下方關閉此功能，並將已記錄的資料清除。"},dataRecord:{_:"資料紀錄",enabled:"啟用",disabled:"已停用",clear:"清除目前已紀錄資料",logged:"目前已記錄 {count} 筆資料",loading:"正在統計資料...",confirm:"您確定要清除資料嗎？",cleared:"資料已清除"}}},"755b":function(t,e,a){"use strict";a.r(e),e["default"]={title:"Welcome",description:"PokaPlayer installation will help you initialize PokaPlayer, please follow the instructions to complete the installation.",next:"Next",database:{title:"Database",description:"PokaPlayer needs to connect to MongoDB to function properly, please enter your MongoDB information.",help:"How to fill in URI"},init:{title:"Initialization",description:"PokaPlayer is initializing"},done:{title:"Done",description:"PokaPlayer has been installed, please log in to continue using.",enter:"Log in"}}},"75af":function(t,e,a){},"769f":function(t,e,a){"use strict";a.r(e),e["default"]={title:"网络",soundQuality:{title:"音质",low:{title:"低音质",description:"128K，跟 YouTube 差不多的烂音质，在网络夭寿慢的情况下请选择此选项"},medium:{title:"中等音质",description:"音质只比 YouTube 好那么一点点，可在 3G 网络下流畅的串流"},high:{title:"高音质",description:"音质较原始音质略差，可在 4G 网络下流畅的串流"},ori:{title:"原始音质",description:"在网络状况许可下，可选择此选项聆听高音质音乐"}}}},"7d8e":function(t,e,a){"use strict";a("faba")},"7da9":function(t,e,a){"use strict";a.r(e),e["default"]={title:"歡迎使用",description:"安裝嚮導將會協助您初始化 PokaPlayer，請按照指示完成安裝。",next:"下一步",database:{title:"資料庫",description:"PokaPlayer 需要連接到 MongoDB 才能正常運作，請輸入您的 MongoDB 資訊。",help:"如何填寫 URI"},init:{title:"初始化",description:"正在初始化 PokaPlayer"},done:{title:"完成",description:"PokaPlayer 已經安裝完成，請登入以繼續使用。",enter:"登入"}}},8383:function(t,e,a){},"8d6b":function(t,e,a){"use strict";a("e3e1")},"8d7c":function(t,e,a){"use strict";a.r(e),e["default"]={title:"釘選管理",deleteConfirm:"您確定要取消釘選此項目嗎？"}},"910f":function(t,e,a){"use strict";a.r(e),e["default"]={title:"系统设定",enabled:"启用",disabled:"停用",pokaplayer:{title:"PokaPlayer",debug:{title:"侦错模式",description:"仅供开发者使用"},sc2tc:{title:"简转繁",description:"将歌词转换为繁体"},fixPunctuation:{title:"标点符号修正",description:"取代台湾不常用的标点符号"}},DSM:{title:"DSM",protocol:"通讯协定",host:"主机",port:"通讯埠",account:"账号",password:"密码"},QQMusic:{title:"QQ 音乐",description:"歌词来源"},Netease2:{title:"网易云音乐",isPremium:"高级用户",topPlaylist:"热门歌单",hqPlaylist:"精品歌单",dailyRecommendSongs:"每日推荐歌曲",dailyRecommendPlaylists:"每日推荐歌单",server:"服务器",method:"登入方式",account:"账号",password:"密码",countrycode:"國碼",limit:"取得数量",order:"排序",order_hot:"热门",order_time:"最新",categories:"分类"},saveDialog:{title:"储存设定",description:"将会重新启动服务器，以便载入新的设定档"}}},9127:function(t,e,a){"use strict";a("3405")},"935a":function(t,e,a){"use strict";a.r(e),e["default"]={title:"使用者",description:"檢視您的資料、修改密碼",name:"名稱",username:"使用者名稱",role:"權限",password:"密碼",passwordDescription:"輕觸此處來更改密碼",changeName:{title:"更改名稱",placeholder:"輸入新的名稱",result:{success:"名稱成功更改為 {name}",error:"名稱更改失敗"}},changeUsername:{title:"更改使用者名稱",placeholder:"輸入新的使用者名稱",result:{success:"使用者名稱成功更改為 {name}，下次請用新的使用者名稱來登入",error:"使用者名稱更改失敗"}},changePassword:{title:"更改密碼",oldPassword:"舊密碼",newPassword:"新密碼",confirmPassword:"確認密碼",confirmPasswordHelperText:"再輸入一次您的新密碼",done:"更改密碼",result:{inconsistent:"兩次密碼不一致",same:"密碼不可與舊密碼相同",success:"密碼更改成功",error:"密碼更改失敗"}}}},9441:function(t,e,a){"use strict";a.r(e),e["default"]={_:"界面",customize:{_:"个人化",bg:{_:"自订背景",description:"更改背景图片",custom_link:"自订连结"},bg_cover:{_:"背景覆盖",description:"更改背景覆盖样式或将其隐藏",options:{full:"全覆盖",half:"半覆盖",none:"无背景"}},theme:"主题",theme_color:{_:"主色",description:"设定 PokaPlayer 的主题色彩"},themeScheme:{_:"暗色主題配色方案",description:"選擇暗色主題的配色方案，讓您的主題更為美觀。"},lyric:{_:"歌词页面主题",description:"设定歌词页面的主题"},layout:{_:"布局",list:"清单",card:"卡片",artist:"演出者页面布局",composer:"作曲者页面布局"}},lang:"语言"}},9776:function(t,e,a){"use strict";a.r(e),e["default"]={title:"網路",soundQuality:{title:"音質",low:{title:"低音質",description:"128K，跟 YouTube 差不多的爛音質，在網路夭壽慢的情況下請選擇此選項"},medium:{title:"中等音質",description:"音質只比 YouTube 好那麼一點點，可在 3G 網路下流暢的串流"},high:{title:"高音質",description:"音質較原始音質略差，可在 4G 網路下流暢的串流"},ori:{title:"原始音質",description:"在網路狀況許可下，可選擇此選項聆聽高音質音樂"}}}},"9b9d":function(t,e,a){"use strict";a.r(e),e["default"]={title:"设定",config:a("910f").default,user:a("c3f2").default,userManagement:a("d68f").default,pins:a("3316").default,update:a("290b").default,interface:a("9441").default,pravicy:a("1705").default,network:a("769f").default}},"9ebe":function(t,e,a){},a11d:function(t,e,a){},a5da:function(t,e,a){"use strict";a("1edc")},a653:function(t,e,a){},a8b9:function(t,e,a){"use strict";a("1ece")},abf2:function(t,e,a){"use strict";a.r(e),e["default"]={title:"Settings",config:a("3ef7").default,user:a("cf54").default,userManagement:a("0212").default,pins:a("5938").default,update:a("4b8d").default,interface:a("2d1d").default,pravicy:a("28fa").default,network:a("ce32").default}},ad6f:function(t,e,a){"use strict";a.r(e),e["default"]={title:"設定",config:a("da6c").default,user:a("935a").default,userManagement:a("1169").default,pins:a("8d7c").default,update:a("65b4").default,interface:a("edac").default,pravicy:a("74d3").default,network:a("9776").default}},ae69:function(t,e,a){"use strict";a("8383")},b60a:function(t,e,a){"use strict";a.r(e),e["default"]={title:"中文（中国）",loading:"载入中...",header_welcome:"欢迎使用",checkUpdate_poka:"有新版本可供更新：{version}",checkUpdate_button:"更新",pingServer_title:"提示",pingServer_content:"服务器重新启动完毕！",pingServer_reconnect:"重新连接",copy:{success:"已复制至剪贴板",failed:"无法复制至剪贴板"},home:"首页",nowplaying:"现正播放",library:"媒体库",lrc:"歌词",search:"搜寻",album:"专辑",folder:"资料夹",artist:"演出者",song:"歌曲",composer:"作曲者",playlist:"播放清单",debug:"调试",ok:"好",cancel:"取消",reset:"重置",done:"完成",back:"返回",login:{title:"登入",server:"服务器",username:"使用者名称",password:"密码"},nothingFound:"找不到",requestError:"请求失败，请再试一次",home_recentAlbums:"最近加入的专辑",home_pins:"钉选",home_netease:"网易云音乐",home_hqPlaylist_netease:"精品清单",home_topPlaylist_netease:"热门清单",home_dailyRecommend_netease:"每日推荐",app_waitForPlay:"伫列中未有歌曲",app_waitForPlay_description:"加入一些歌曲，或是点选底下的随机播放",now_cleanSongs:"确定清除所有歌曲？",now_cleanSongs_description:"这将会清除列表中所有歌曲。",playlist_random:"随机播放",playlist_page:{del:"删除",del_title:"删除播放清单",delconfirm:"确定要删除「{title}」吗？",add_title:"新增播放清单",edit_title:"编辑播放清单",title_input:"播放清单标题",cover_input:"播放清单封面",edit_empty:"字段不得为空",playlist_empty:"您尚未建立任何播放清单，点选右上角的「＋」来新增"},lrc_search:"搜寻歌词",lrc_noKeyword:"尚未输入关键词",lrc_enter2search:"输入完后按下 Enter 开始搜寻歌词",lrc_notLoad:"不载入歌词",lrc_notLoad_description:"点选清除目前的歌词",lrc_noLyrics:"无歌词",lrc_saved:"歌词已储存",songAction_add2playlist:"加入到播放清单",album_total:"{songs} 首歌曲",albumsOfSameArtist:"来自相同演出者的其他专辑",moduleShowName_Netease:"网易云音乐",moduleShowName_DSM:"DSM",pin:"钉选",pin_failed:"钉选失败",unpin_failed:"取消钉选失败",settings_dark:"夜间模式",settings_lang:"语言",settings_systemAndUpdate:"系统和更新",settings_about:"关于",settings_about_contributions:"贡献者",settings_about_errorEeport:"错误回报",settings_account:"账号",settings_logout:"登出",settings_system:"系统",settings_restart:"重新启动",settings_restarting:"正在重新启动",settings_restart_completed:"重新启动完成！",settings_restartDialog_title:"确定要重新启动吗？",settingIndex:{normalItems:"一般设定项目",adminItems:"服务器"},adminLog:{title:"日志"},source:{DSM:"DSM",poka:"PokaPlayer",Netease2:"网易云音乐",QQMusic:"QQ 音乐"},lyricEditor:{title:"歌词编辑器",instructionsTitle:"使用说明",instructionsContent:"左侧为歌词预览，右侧则是编辑区块<br />编辑完成后请按左下角打勾储存歌词，若要取消编辑点击返回键即可跳出<br />点击歌词预览的歌词即可将歌曲转跳至该时间，若是双语歌词，请点选原文部分<br />若有任何问题或功能建议，欢迎通过「设定->关于->GitHub->Issues」提出",instructionsContentPhone:"上方为歌词预览，下方则是编辑区块<br />编辑完成后请按左下角打勾储存歌词，若要取消编辑点击返回键即可跳出<br />点击歌词预览的歌词即可将歌曲转跳至该时间，若是双语歌词，请点选原文部分<br />若有任何问题或功能建议，欢迎通过「设定->关于->GitHub->Issues」提出",timeShifting:"时间平移",timeShiftingReset:"重置",textEditor:"文字编辑器"},review:a("c062").default,install:a("304c").default,settings:a("9b9d").default}},b6b8:function(t,e,a){},b966:function(t,e,a){"use strict";a("67f7")},ba2a:function(t,e,a){"use strict";a.r(e),e["default"]={notify:{title:"您的年度回顧",description:"回顧這一年裡您最常聽的歌曲、專輯與其他有關統計",go:"走吧"},page:{title:"Review",subtitle:"你的 {year} 年度回顧",mostPlayedSongs:"收聽最多的歌曲",mostPlayedAlbums:"收聽最多的專輯",mostPlayedArtists:"收聽最多的演出者",thankYouTitle:"感謝有你",thankYouDescription:"感謝你使用 PokaPlayer，希望未來可以陪伴你走過更多時光！"}}},c062:function(t,e,a){"use strict";a.r(e),e["default"]={notify:{title:"您的年度回顾",description:"回顾这一年里您最常听的歌曲、专辑与其他有关统计",go:"走吧"},page:{title:"Review",subtitle:"你的 {year} 年度回顾",mostPlayedSongs:"收听最多的歌曲",mostPlayedAlbums:"收听最多的专辑",mostPlayedArtists:"收听最多的演出者",thankYouTitle:"感谢有你",thankYouDescription:"感谢你使用 PokaPlayer，希望未来可以陪伴你走过更多时光！"}}},c3f2:function(t,e,a){"use strict";a.r(e),e["default"]={title:"使用者",description:"检视您的资料、修改密码",name:"名称",username:"使用者名称",role:"权限",password:"密码",passwordDescription:"轻触此处来更改密码",changeName:{title:"更改名称",placeholder:"输入新的名称",result:{success:"名称成功更改为 {name}",error:"名称更改失败"}},changeUsername:{title:"更改使用者名称",placeholder:"输入新的使用者名称",result:{success:"使用者名称成功更改为 {name}，下次请用新的使用者名称来登入",error:"使用者名称更改失败"}},changePassword:{title:"更改密码",oldPassword:"旧密码",newPassword:"新密码",confirmPassword:"确认密码",confirmPasswordHelperText:"再输入一次您的新密码",done:"更改密码",result:{inconsistent:"两次密码不一致",same:"密码不可与旧密码相同",success:"密码更改成功",error:"密码更改失败"}}}},c528:function(t,e,a){"use strict";a("ecd6")},cd60:function(t,e,a){"use strict";a("e5b2")},ce32:function(t,e,a){"use strict";a.r(e),e["default"]={title:"Network",soundQuality:{title:"Sound quality",low:{title:"Low quality",description:"128K, similar to YouTube, can stream in poor network conditions"},medium:{title:"Medium quality",description:"Quality is better than YouTube only a little, can stream in 3G network"},high:{title:"High quality",description:"Quality is better than original quality, can stream in 4G network"},ori:{title:"Original quality",description:"Streaming in 4G network is allowed, but higher quality is preferred"}}}},cf25:function(t,e,a){"use strict";a("fea6")},cf54:function(t,e,a){"use strict";a.r(e),e["default"]={title:"User",description:"View your profile, change your password",name:"Name",username:"Username",role:"Role",password:"Password",passwordDescription:"Tap here to change your password",changeName:{title:"Change name",placeholder:"Enter a new name",result:{success:"Name successfully changed to {name}",error:"Name change failed"}},changeUsername:{title:"Change username",placeholder:"Enter a new username",result:{success:"Username successfully changed to {name}, please login with a new username next time",error:"Username change failed"}},changePassword:{title:"Change the password",oldPassword:"old password",newPassword:"new password",confirmPassword:"confirm password",confirmPasswordHelperText:"Enter your new password again",done:"change",result:{inconsistent:"Two passwords are inconsistent",same:"Password cannot be the same as the old password",success:"Password changed successfully",error:"Password change failed"}}}},d14f:function(t,e,a){"use strict";a("549f")},d32a:function(t,e,a){},d4db:function(t,e,a){"use strict";a("4277")},d515:function(t,e,a){"use strict";a("e0a2")},d68f:function(t,e,a){"use strict";a.r(e),e["default"]={title:"使用者管理",role:{user:"普通使用者",admin:"管理员"},dialog:{create:"建立使用者",createBtn:"建立",userCreated:"使用者建立成功",userCreateFailed:"建立使用者时发生错误",userCreateUsernameRepeat:"使用者名称已被使用",edit:"编辑使用者",changePassword:"更改密码",changePasswordSuccess:"密码已变更",changePasswordFailed:"更改密码时发生了错误",enterNewPassword:"请输入新密码",deleteUser:"删除使用者",deleteUserFailed:"删除使用者时发生了错误"},field:{name:"名称",username:"使用者名称",role:"权限",password:"密码",createTime:"建立时间",lastLoginTime:"上次登入"}}},d913:function(t,e,a){"use strict";a.r(e),e["default"]={title:"中文（台灣）",loading:"載入中...",header_welcome:"歡迎使用",checkUpdate_poka:"有新版本可供更新：{version}",checkUpdate_button:"更新",pingServer_title:"提示",pingServer_content:"伺服器重新啟動完畢！",pingServer_reconnect:"重新連接",copy:{success:"已複製至剪貼簿",failed:"無法複製至剪貼簿"},home:"首頁",nowplaying:"現正播放",library:"媒體庫",lrc:"歌詞",search:"搜尋",album:"專輯",folder:"資料夾",artist:"演出者",song:"歌曲",composer:"作曲者",playlist:"播放清單",debug:"除錯",ok:"好",cancel:"取消",reset:"重置",done:"完成",back:"返回",login:{title:"登入",server:"伺服器",username:"使用者名稱",password:"密碼"},nothingFound:"找不到",requestError:"請求失敗，請再試一次",home_recentAlbums:"最近加入的專輯",home_pins:"釘選",home_netease:"網易雲音樂",home_hqPlaylist_netease:"精品清單",home_topPlaylist_netease:"熱門清單",home_dailyRecommend_netease:"每日推薦",app_waitForPlay:"佇列中未有歌曲",app_waitForPlay_description:"加入一些歌曲，或是點選底下的隨機播放",now_cleanSongs:"確定清除所有歌曲？",now_cleanSongs_description:"這將會清除列表中所有歌曲。",playlist_random:"隨機播放",playlist_page:{del:"刪除",del_title:"刪除播放清單",delconfirm:"確定要刪除「{title}」嗎？",add_title:"新增播放清單",edit_title:"編輯播放清單",title_input:"播放清單標題",cover_input:"播放清單封面",edit_empty:"欄位不得為空",playlist_empty:"您尚未建立任何播放清單，點選右上角的「＋」來新增"},lrc_search:"搜尋歌詞",lrc_noKeyword:"尚未輸入關鍵字",lrc_enter2search:"輸入完後按下 Enter 開始搜尋歌詞",lrc_notLoad:"不載入歌詞",lrc_notLoad_description:"點選清除目前的歌詞",lrc_noLyrics:"無歌詞",lrc_saved:"歌詞已儲存",songAction_add2playlist:"加入到播放清單",album_total:"{songs} 首歌曲",albumsOfSameArtist:"來自相同演出者的其他專輯",moduleShowName_Netease:"網易雲音樂",moduleShowName_DSM:"DSM",pin:"釘選",pin_failed:"釘選失敗",unpin_failed:"取消釘選失敗",settings_dark:"夜間模式",settings_lang:"語言",settings_systemAndUpdate:"系統和更新",settings_about:"關於",settings_about_contributions:"貢獻者",settings_about_errorEeport:"錯誤回報",settings_account:"帳號",settings_logout:"登出",settings_system:"系統",settings_restart:"重新啟動",settings_restarting:"正在重新啟動",settings_restart_completed:"重新啟動完成！",settings_restartDialog_title:"確定要重新啟動嗎？",settingIndex:{normalItems:"一般設定項目",adminItems:"伺服器"},adminLog:{title:"日誌"},source:{DSM:"DSM",poka:"PokaPlayer",Netease2:"網易雲音樂",QQMusic:"QQ 音樂"},lyricEditor:{title:"歌詞編輯器",instructionsTitle:"使用說明",instructionsContent:"左側為歌詞預覽，右側則是編輯區塊<br />編輯完成後請按左下角打勾儲存歌詞，若要取消編輯點擊返回鍵即可跳出<br />點擊歌詞預覽的歌詞即可將歌曲轉跳至該時間，若是雙語歌詞，請點選原文部份<br />若有任何問題或功能建議，歡迎透過「設定->關於->GitHub->Issues」提出",instructionsContentPhone:"上方為歌詞預覽，下方則是編輯區塊<br />編輯完成後請按左下角打勾儲存歌詞，若要取消編輯點擊返回鍵即可跳出<br />點擊歌詞預覽的歌詞即可將歌曲轉跳至該時間，若是雙語歌詞，請點選原文部份<br />若有任何問題或功能建議，歡迎透過「設定->關於->GitHub->Issues」提出",timeShifting:"時間平移",timeShiftingReset:"重置",textEditor:"文字編輯器"},review:a("ba2a").default,install:a("7da9").default,settings:a("ad6f").default}},da6c:function(t,e,a){"use strict";a.r(e),e["default"]={title:"系統設定",enabled:"啟用",disabled:"停用",pokaplayer:{title:"PokaPlayer",debug:{title:"偵錯模式",description:"僅供開發者使用"},sc2tc:{title:"簡轉繁",description:"將歌詞轉換為繁體"},fixPunctuation:{title:"標點符號修正",description:"取代台灣不常用的標點符號"}},DSM:{title:"DSM",protocol:"通訊協定",host:"主機",port:"通訊埠",account:"帳號",password:"密碼"},QQMusic:{title:"QQ 音樂",description:"歌詞來源"},Netease2:{title:"網易雲音樂",isPremium:"Premium",topPlaylist:"熱門歌單",hqPlaylist:"精品歌單",dailyRecommendSongs:"每日推薦歌曲",dailyRecommendPlaylists:"每日推薦歌單",server:"伺服器",method:"登入方式",account:"帳號",password:"密碼",countrycode:"國碼",limit:"取得數量",order:"排序",order_hot:"熱門",order_time:"最新",categories:"分類"},saveDialog:{title:"儲存設定",description:"將會重新啟動伺服器，以便載入新的設定檔"}}},e057:function(t,e,a){},e0a2:function(t,e,a){},e14e:function(t,e,a){"use strict";a("61a0")},e3e1:function(t,e,a){},e504:function(t,e,a){"use strict";a("b6b8")},e5b2:function(t,e,a){},eaf7:function(t,e,a){"use strict";a("3d02")},eb90:function(t,e,a){},ec54:function(t,e,a){"use strict";a("75af")},ecd6:function(t,e,a){},ed7c:function(t,e,a){"use strict";a("4267")},edac:function(t,e,a){"use strict";a.r(e),e["default"]={_:"介面",customize:{_:"個人化",bg:{_:"自訂背景",description:"更改背景圖片",custom_link:"自訂連結"},bg_cover:{_:"背景覆蓋",description:"更改背景覆蓋樣式或將其隱藏",options:{full:"全覆蓋",half:"半覆蓋",none:"無背景"}},theme:"主題",theme_color:{_:"主色",description:"設定 PokaPlayer 的主題色彩"},themeScheme:{_:"暗色主題配色方案",description:"選擇暗色主題的配色方案，讓您的主題更為美觀。"},lyric:{_:"歌詞頁面主題",description:"設定歌詞頁面的主題"},layout:{_:"佈局",list:"清單",card:"卡片",artist:"演出者頁面佈局",composer:"作曲者頁面佈局"}},lang:"語言"}},ef87:function(t,e,a){var i,s,r;!function(a,o){"use strict";s=[],i=o,r="function"===typeof i?i.apply(e,s):i,void 0===r||(t.exports=r)}(0,(function(){"use strict";var t=function(t){this.timestamp_offset=0,this.lyrics_all=void 0,this.meta_info=void 0,this.ID_TAGS=[{name:"artist",id:"ar"},{name:"album",id:"al"},{name:"title",id:"ti"},{name:"author",id:"au"},{name:"length",id:"length"},{name:"by",id:"by"},{name:"offset",id:"offset",handler:this.setTimestampOffset},{name:"createdBy",id:"re"},{name:"createdByVersion",id:"ve"}];for(var e=0;e<this.ID_TAGS.length;e++)this.ID_TAGS[e].re=new RegExp("\\["+this.ID_TAGS[e].id+":(.*)\\]$","g");t&&this.load(t)};return t.prototype={constructor:t,load:function(t){this.lyrics_all=new Array,this.meta_info=new Object,this.timestamp_offset=0;for(var e=String(t).split("\n"),a=0;a<e.length;a++){var i=e[a].replace(/(^\s*)|(\s*$)/g,"");if(i){for(var s=!1,r=0;r<this.ID_TAGS.length;r++){var o=this.ID_TAGS[r].re.exec(i);if(o&&!(o.length<2)){s=!0;var n=o[1].replace(/(^\s*)|(\s*$)/g,"");"function"==typeof this.ID_TAGS[r].handler?this.meta_info[String(this.ID_TAGS[r].name)]=this.ID_TAGS[r].handler.call(this,n):this.meta_info[String(this.ID_TAGS[r].name)]=String(n)}}if(!s){for(var l=Array();;){o=/^(\[\d+:\d+(.\d+)?\])(.*)/g.exec(i);if(!o)break;l.push(o[1]),i=o[o.length-1].replace(/(^\s*)|(\s*$)/g,"")}for(r=0;r<l.length;r++){var c=/^\[(\d{1,2}):(\d|[0-5]\d)(\.(\d+))?\]$/g.exec(l[r]);c&&this.lyrics_all.push({timestamp:60*Number(c[1])+Number(c[2])+(c[4]?Number("0."+c[4]):0),text:i})}}}}return this.lyrics_all.sort((function(t,e){return t.timestamp>e.timestamp?1:-1})),this.lyrics_all.length||(this.lyrics_all=void 0),this.isEmpty(this.meta_info)&&(this.meta_info=void 0),void 0!==this.lyrics_all||void 0!==this.meta_info},getLyrics:function(){return this.lyrics_all},getLyric:function(t){try{return this.lyrics_all[t]}catch(t){return}},getIDTags:function(){return this.meta_info},select:function(t){if(isNaN(t))return-1;var e=Number(t)+this.timestamp_offset,a=0;if(e<this.lyrics_all[0].timestamp)return-1;for(a=0;a<this.lyrics_all.length-1&&!(this.lyrics_all[a].timestamp<=e&&this.lyrics_all[a+1].timestamp>e);a++);return a},setTimestampOffset:function(t){return this.timestamp_offset=isNaN(t)?0:Number(t)/1e3,Number(t)},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}},t}))},f54c:function(t,e,a){},f819:function(t,e,a){"use strict";a("32c3")},faba:function(t,e,a){},fea6:function(t,e,a){}});
//# sourceMappingURL=app.e70e2776.js.map