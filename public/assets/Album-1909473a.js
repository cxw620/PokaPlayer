import{_ as P,j as b,u as S,i as w,k as x,r as c,o as _,c as B,e as g,b as e,m as i,t as o,q as l,T as C,f as u,w as d,p as M,g as N}from"./index-e2ba9829.js";const p=r=>(M("data-v-7c7a3cc7"),r=r(),N(),r),T={key:0},V=p(()=>e("br",null,null,-1)),j={style:{opacity:"0.5"}},D={class:"header"},L={class:"cover"},q=["src"],E={class:"album-info"},O={class:"title"},R={class:"meta"},z={class:"actions"},F=p(()=>e("i",{class:"bx bx-play"},null,-1)),G=p(()=>e("i",{class:"bx bx-shuffle"},null,-1)),H=p(()=>e("div",{class:"spacer"},null,-1)),J={__name:"Album",setup(r){const m=b("PokaAPI"),v=b("Player"),a=S(),s=w(null);x(async()=>{a.meta.type=="album"&&(s.value=await m.getAlbum(a.params.source,a.params.id)),a.meta.type=="playlist"&&(s.value=await m.getPlaylist(a.params.source,a.params.id))});function y(t=!1){v.audioOrder=t?"random":"list";let n=t?Math.floor(Math.random()*s.value.songs.length):0;v.addSongs({songs:s.value.songs,index:n})}return(t,n)=>{const f=c("router-link"),h=c("p-btn"),$=c("pin-btn"),k=c("parse-songs"),A=c("Loader");return s.value?(_(),B("div",T,[(_(),g(C,{to:"#header-center"},[e("p",null,[i(o(s.value.name??s.value.playlists[0].name)+" ",1),V,e("small",j,o(t.$t(`nav.${l(a).meta.type}s`)),1)])])),e("div",D,[e("div",L,[e("img",{src:s.value.cover??s.value.playlists[0].cover},null,8,q)]),e("div",E,[e("div",O,o(s.value.name??s.value.playlists[0].name),1),u(f,{class:"artist",to:`/ artist / ${l(a).params.source} /${s.value.artistId}`},{default:d(()=>[i(o(s.value.artist),1)]),_:1},8,["to"]),e("div",R,[e("span",null,o(t.$t(`nav.${l(a).meta.type}s`)),1),e("span",null,o(t.$t("songs",s.value.songs.length,{count:s.value.songs.length})),1),e("span",null,o(t.$t(`source.${l(a).params.source}`)),1)]),e("div",z,[u(h,{onClick:n[0]||(n[0]=I=>y())},{default:d(()=>[F,i(" "+o(t.$t("album.playAll")),1)]),_:1}),u(h,{outline:"",onClick:n[1]||(n[1]=I=>y(!0))},{default:d(()=>[G,i(" "+o(t.$t("album.playAllShuffle")),1)]),_:1}),H,u($,{name:s.value.name??s.value.playlists[0].name,cover:s.value.cover??s.value.playlists[0].cover,artist:s.value.artist,id:l(a).params.id,source:l(a).params.source,type:l(a).meta.type},null,8,["name","cover","artist","id","source","type"])])])]),u(k,{items:s.value.songs},null,8,["items"])])):(_(),g(A,{key:1}))}}},Q=P(J,[["__scopeId","data-v-7c7a3cc7"]]);export{Q as default};
