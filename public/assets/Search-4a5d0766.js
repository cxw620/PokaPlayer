import{_ as C,j as N,u as R,v as j,i as p,k as A,r as a,o as t,c as l,b as u,f as o,w as F,x as L,e as M,s as n,F as D,t as c,p as E,g as U}from"./index-cc8d2326.js";const z=_=>(E("data-v-35d51b69"),_=_(),U(),_),G=["onSubmit"],H=z(()=>u("i",{class:"bx bx-search"},null,-1)),J={key:0,class:"search__result"},K={key:1,class:"search__result"},O={key:2,class:"search__result"},Q={key:3,class:"search__result"},T={key:4,class:"search__result"},W={__name:"Search",setup(_){const k=N("PokaAPI"),S=R(),w=j(),r=p(""),e=p(null),i=p(!1);A(async()=>{let s=S.query.q;s&&(r.value=s,await m())});async function m(){r.value!=""&&(i.value=!0,w.replace({path:"/search",query:{q:r.value}}),e.value=null,e.value=await k.search(r.value),i.value=!1)}return(s,v)=>{var h,y,b,g,f;const $=a("p-input"),I=a("p-btn"),V=a("Loader"),q=a("parse-songs"),B=a("parse-albums"),d=a("parse-artists"),P=a("parse-playlists");return t(),l("div",null,[u("form",{class:"search__input",onSubmit:L(m,["prevent"])},[o($,{modelValue:r.value,"onUpdate:modelValue":v[0]||(v[0]=x=>r.value=x)},null,8,["modelValue"]),o(I,{type:"submit"},{default:F(()=>[H]),_:1})],40,G),i.value?(t(),M(V,{key:0})):n("",!0),e.value?(t(),l(D,{key:1},[(h=e.value.songs)!=null&&h.length?(t(),l("div",J,[u("h3",null,c(s.$t("nav.songs")),1),o(q,{items:e.value.songs},null,8,["items"])])):n("",!0),(y=e.value.albums)!=null&&y.length?(t(),l("div",K,[u("h3",null,c(s.$t("nav.albums")),1),o(B,{items:e.value.albums},null,8,["items"])])):n("",!0),(b=e.value.artists)!=null&&b.length?(t(),l("div",O,[u("h3",null,c(s.$t("nav.artists")),1),o(d,{type:"artists",items:e.value.artists},null,8,["items"])])):n("",!0),(g=e.value.composers)!=null&&g.length?(t(),l("div",Q,[u("h3",null,c(s.$t("nav.composers")),1),o(d,{type:"composers",items:e.value.composers},null,8,["items"])])):n("",!0),(f=e.value.playlists)!=null&&f.length?(t(),l("div",T,[u("h3",null,c(s.$t("nav.playlists")),1),o(P,{items:e.value.playlists},null,8,["items"])])):n("",!0)],64)):n("",!0)])}}},Y=C(W,[["__scopeId","data-v-35d51b69"]]);export{Y as default};
