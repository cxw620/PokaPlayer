import{_ as P,j as k,u as w,r as S,k as B,b as d,o as r,c as C,g as $,e as s,q as i,t as a,m as p,T as N,h as u,w as m,p as T,i as V}from"./index.3eb2391f.js";const l=n=>(T("data-v-f7c4335d"),n=n(),V(),n),j={key:0},D=l(()=>s("br",null,null,-1)),L={style:{opacity:"0.5"}},q={class:"header"},E={class:"cover"},M=["src"],O={class:"album-info"},R={class:"title"},z={class:"artist"},F={class:"meta"},G={class:"actions"},H=l(()=>s("i",{class:"bx bx-play"},null,-1)),J=l(()=>s("i",{class:"bx bx-shuffle"},null,-1)),K=l(()=>s("div",{class:"spacer"},null,-1)),Q=l(()=>s("i",{class:"bx bxs-pin"},null,-1)),U={__name:"Album",setup(n){const v=k("PokaAPI"),h=k("Player"),t=w(),e=S(null);B(async()=>{t.meta.type=="album"&&(e.value=await v.getAlbum(t.params.source,t.params.id)),t.meta.type=="playlist"&&(e.value=await v.getPlaylist(t.params.source,t.params.id))});function y(o=!1){h.audioOrder=o?"random":"list",h.addSongs({songs:e.value.songs})}return(o,c)=>{var f,b,g;const _=d("p-btn"),x=d("parse-songs"),A=d("Loader");return e.value?(r(),C("div",j,[(r(),$(N,{to:"#header-center"},[s("p",null,[i(a((f=e.value.name)!=null?f:e.value.playlists[0].name)+" ",1),D,s("small",L,a(o.$t(`nav.${p(t).meta.type}s`)),1)])])),s("div",q,[s("div",E,[s("img",{src:(b=e.value.cover)!=null?b:e.value.playlists[0].cover},null,8,M)]),s("div",O,[s("div",R,a((g=e.value.name)!=null?g:e.value.playlists[0].name),1),s("div",z,a(e.value.artist),1),s("div",F,[s("span",null,a(o.$t(`nav.${p(t).meta.type}s`)),1),s("span",null,a(o.$t("songs",e.value.songs.length,{count:e.value.songs.length})),1),s("span",null,a(o.$t(`source.${p(t).params.source}`)),1)]),s("div",G,[u(_,{onClick:c[0]||(c[0]=I=>y())},{default:m(()=>[H,i(" \u5168\u90E8\u64AD\u653E")]),_:1}),u(_,{outline:"",onClick:c[1]||(c[1]=I=>y(!0))},{default:m(()=>[J,i(" \u96A8\u6A5F\u64AD\u653E")]),_:1}),K,u(_,null,{default:m(()=>[Q,i("\u91D8\u9078")]),_:1})])])]),u(x,{items:e.value.songs},null,8,["items"])])):(r(),$(A,{key:1}))}}},X=P(U,[["__scopeId","data-v-f7c4335d"]]);export{X as default};
