import{u as f}from"./user-8fc11de1.js";import{_ as y,R as g,a as k,r as a,o as s,c as i,b as e,F as u,d as _,e as n,f as S,w as m,n as p,t as h,p as I,g as w}from"./index-55e28da3.js";const $={name:"DefaultLayout",setup(){return{userStore:f()}},components:{RouterView:g,RouterLink:k},data(){return{starting:!0,actions:[{icon:"bx-cog",text:"settings",to:"/settings"}],nav:[{icon:"bx-library",text:"library",to:"/"},{icon:"bx-search",text:"search",to:"/search"},{icon:"bx-album",text:"albums",to:"/albums"},{icon:"bx-folder",text:"folders",to:"/folders"},{icon:"bx-microphone",text:"artists",to:"/artists"},{icon:"bxs-piano",text:"composers",to:"/composers"},{icon:"bxs-playlist",text:"playlists",to:"/playlists"}]}},mounted(){this.start(),this.loadTheme()},methods:{async start(){try{let t=await this.$PokaAPI.getUserInfo();this.starting=!1,this.userStore.setUserInfo(t)}catch(t){console.log(t),this.$router.push("/login")}},loadTheme(){let t=localStorage.getItem("poka.theme");if(t){document.documentElement.style.cssText=JSON.parse(t).cssText;let c=document.querySelector('meta[name="theme-color"]');c&&c.setAttribute("content",getComputedStyle(document.documentElement).getPropertyValue("--background-layer-1"))}}}},l=t=>(I("data-v-9033cb87"),t=t(),w(),t),V={class:"default-layout-container"},C={class:"header"},L=l(()=>e("div",{class:"logo"}," PokaPlayer ",-1)),P=l(()=>e("div",{class:"header-center",id:"header-center"},null,-1)),R={class:"header-actions"},B=l(()=>e("div",{id:"header-actions"},null,-1)),T={class:"nav-item-text"},E={class:"nav"},N={class:"nav-item-text"},U={class:"main"},A={class:"player"};function D(t,c,F,q,r,z){const d=a("router-link"),v=a("Loader"),x=a("RouterView"),b=a("bottom-player");return s(),i("div",V,[e("div",C,[L,P,e("div",R,[B,(s(!0),i(u,null,_(r.actions,o=>(s(),n(d,{class:"nav-item",to:o.to},{default:m(()=>[e("i",{class:p(["nav-item-icon bx",o.icon])},null,2),e("div",T,h(t.$t(`nav.${o.text}`)),1)]),_:2},1032,["to"]))),256))])]),e("div",E,[(s(!0),i(u,null,_(r.nav,o=>(s(),n(d,{class:"nav-item",to:o.to},{default:m(()=>[e("i",{class:p(["nav-item-icon bx",o.icon])},null,2),e("div",N,h(t.$t(`nav.${o.text}`)),1)]),_:2},1032,["to"]))),256))]),e("div",U,[r.starting?(s(),n(v,{key:0})):(s(),n(x,{key:1}))]),e("div",A,[S(b)])])}const j=y($,[["render",D],["__scopeId","data-v-9033cb87"]]);export{j as default};
