import{_ as P,j as f,u as S,i as w,k as x,r as n,o as _,c as B,e as h,b as e,m as r,t,q as l,T as C,f as u,w as d,p as N,g as T}from"./index-62808526.js";const p=c=>(N("data-v-b9fb90f7"),c=c(),T(),c),V={key:0},j=p(()=>e("br",null,null,-1)),D={style:{opacity:"0.5"}},L={class:"header"},q={class:"cover"},E=["src"],M={class:"album-info"},O={class:"title"},R={class:"meta"},z={class:"actions"},F=p(()=>e("i",{class:"bx bx-play"},null,-1)),G=p(()=>e("i",{class:"bx bx-shuffle"},null,-1)),H=p(()=>e("div",{class:"spacer"},null,-1)),J={__name:"Album",setup(c){const m=f("PokaAPI"),v=f("Player"),a=S(),s=w(null);x(async()=>{a.meta.type=="album"&&(s.value=await m.getAlbum(a.params.source,a.params.id)),a.meta.type=="playlist"&&(s.value=await m.getPlaylist(a.params.source,a.params.id))});function y(o=!1){v.audioOrder=o?"random":"list",v.addSongs({songs:s.value.songs})}return(o,i)=>{const g=n("router-link"),b=n("p-btn"),$=n("pin-btn"),k=n("parse-songs"),A=n("Loader");return s.value?(_(),B("div",V,[(_(),h(C,{to:"#header-center"},[e("p",null,[r(t(s.value.name??s.value.playlists[0].name)+" ",1),j,e("small",D,t(o.$t(`nav.${l(a).meta.type}s`)),1)])])),e("div",L,[e("div",q,[e("img",{src:s.value.cover??s.value.playlists[0].cover},null,8,E)]),e("div",M,[e("div",O,t(s.value.name??s.value.playlists[0].name),1),u(g,{class:"artist",to:`/artist/${l(a).params.source}/${s.value.artistId}`},{default:d(()=>[r(t(s.value.artist),1)]),_:1},8,["to"]),e("div",R,[e("span",null,t(o.$t(`nav.${l(a).meta.type}s`)),1),e("span",null,t(o.$t("songs",s.value.songs.length,{count:s.value.songs.length})),1),e("span",null,t(o.$t(`source.${l(a).params.source}`)),1)]),e("div",z,[u(b,{onClick:i[0]||(i[0]=I=>y())},{default:d(()=>[F,r(" "+t(o.$t("album.playAll")),1)]),_:1}),u(b,{outline:"",onClick:i[1]||(i[1]=I=>y(!0))},{default:d(()=>[G,r(" "+t(o.$t("album.playAllShuffle")),1)]),_:1}),H,u($,{name:s.value.name??s.value.playlists[0].name,cover:s.value.cover??s.value.playlists[0].cover,artist:s.value.artist,id:l(a).params.id,source:l(a).params.source,type:l(a).meta.type},null,8,["name","cover","artist","id","source","type"])])])]),u(k,{items:s.value.songs},null,8,["items"])])):(_(),h(A,{key:1}))}}},Q=P(J,[["__scopeId","data-v-b9fb90f7"]]);export{Q as default};
